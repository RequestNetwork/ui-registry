{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "payment-widget",
  "type": "registry:component",
  "title": "Payment Widget",
  "description": "A wallet-connected payment widget for Request Network using pure wagmi",
  "dependencies": [
    "wagmi@^2.16.9",
    "viem@^2.37.3",
    "@tanstack/react-query@^5.86.0",
    "react-hook-form@^7.62.0",
    "lucide-react@^0.542.0",
    "html2canvas-pro@^1.5.11",
    "jspdf@^3.0.3"
  ],
  "registryDependencies": [
    "button",
    "dialog",
    "input",
    "label",
    "radio-group"
  ],
  "files": [
    {
      "path": "registry/default/payment-widget/payment-widget.tsx",
      "content": "\"use client\";\n\nimport { type PropsWithChildren, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { ConnectionHandler } from \"./components/connection-handler\";\nimport { Web3Provider } from \"./context/web3-context\";\nimport { PaymentModal } from \"./components/payment-modal\";\nimport { PaymentWidgetProvider } from \"./context/payment-widget-context/payment-widget-provider\";\nimport type { PaymentWidgetProps } from \"./payment-widget.types\";\nimport { ICONS } from \"./constants\";\nimport { usePaymentWidgetContext } from \"./context/payment-widget-context/use-payment-widget-context\";\n\nfunction PaymentWidgetInner({ children }: PropsWithChildren) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const handleModalOpenChange = (open: boolean) => {\n    setIsModalOpen(open);\n  };\n\n  const {\n    walletAccount,\n    paymentConfig: { rnApiClientId, supportedCurrencies },\n  } = usePaymentWidgetContext();\n\n  let isButtonDisabled = false;\n\n  if (!rnApiClientId || rnApiClientId === \"\") {\n    console.error(\"PaymentWidget: rnApiClientId is required in paymentConfig\");\n\n    isButtonDisabled = true;\n  }\n\n  if (supportedCurrencies.length === 0) {\n    console.error(\n      \"PaymentWidget: supportedCurrencies is required in paymentConfig\",\n    );\n\n    isButtonDisabled = true;\n  }\n\n  return (\n    <div className=\"inline-flex flex-col items-center\">\n      <Button\n        disabled={isButtonDisabled}\n        onClick={() => {\n          if (isButtonDisabled) return;\n          setIsModalOpen(true);\n        }}\n        variant=\"ghost\"\n        className=\"p-0 h-auto bg-transparent hover:bg-transparent\"\n      >\n        {children || \"Pay with crypto\"}\n      </Button>\n\n      <div className=\"flex items-center gap-1 mt-2 text-xs text-muted-foreground\">\n        {/** biome-ignore lint/performance/noImgElement: This is a ShadCN library, we can't enforce next syntax on everybody */}\n        <img\n          src={ICONS.requestNetwork}\n          alt=\"Request Network\"\n          width={10}\n          height={10}\n          className=\"flex-shrink-0\"\n        />\n        <span>Powered by Request Network</span>\n      </div>\n\n      {walletAccount !== undefined ? (\n        <PaymentModal\n          isOpen={isModalOpen}\n          handleModalOpenChange={handleModalOpenChange}\n        />\n      ) : (\n        <ConnectionHandler\n          isOpen={isModalOpen}\n          handleModalOpenChange={handleModalOpenChange}\n          paymentModal={\n            <PaymentModal\n              isOpen={isModalOpen}\n              handleModalOpenChange={handleModalOpenChange}\n            />\n          }\n        />\n      )}\n    </div>\n  );\n}\n\nexport function PaymentWidget({\n  amountInUsd,\n  recipientWallet,\n  paymentConfig,\n  receiptInfo,\n  onPaymentSuccess,\n  onPaymentError,\n  uiConfig,\n  walletAccount,\n  children,\n}: PaymentWidgetProps) {\n  return (\n    <Web3Provider walletConnectProjectId={paymentConfig.walletConnectProjectId}>\n      <PaymentWidgetProvider\n        amountInUsd={amountInUsd}\n        recipientWallet={recipientWallet}\n        walletAccount={walletAccount}\n        paymentConfig={paymentConfig}\n        uiConfig={uiConfig}\n        receiptInfo={receiptInfo}\n        onPaymentSuccess={onPaymentSuccess}\n        onPaymentError={onPaymentError}\n      >\n        <PaymentWidgetInner>{children}</PaymentWidgetInner>\n      </PaymentWidgetProvider>\n    </Web3Provider>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/payment-widget.tsx"
    },
    {
      "path": "registry/default/payment-widget/context/payment-widget-context/index.ts",
      "content": "import { createContext } from \"react\";\nimport type { ReceiptInfo, FeeInfo, PaymentError } from \"../../types/index\";\nimport type { TransactionReceipt, WalletClient } from \"viem\";\n\nexport interface PaymentWidgetContextValue {\n  amountInUsd: string;\n  recipientWallet: string;\n\n  walletAccount?: WalletClient;\n  connectedWalletAddress?: string;\n  isWalletOverride: boolean;\n\n  paymentConfig: {\n    reference?: string;\n    rnApiClientId: string;\n    feeInfo?: FeeInfo;\n    supportedCurrencies: string[];\n  };\n\n  uiConfig: {\n    showRequestScanUrl: boolean;\n    showReceiptDownload: boolean;\n  };\n\n  receiptInfo: ReceiptInfo;\n\n  onPaymentSuccess?: (\n    requestId: string,\n    transactionReceipts: TransactionReceipt[],\n  ) => void | Promise<void>;\n  onPaymentError?: (error: PaymentError) => void | Promise<void>;\n  onComplete?: () => void | Promise<void>;\n}\n\nexport const PaymentWidgetContext =\n  createContext<PaymentWidgetContextValue | null>(null);\n",
      "type": "registry:component",
      "target": "components/payment-widget/context/payment-widget-context/index.ts"
    },
    {
      "path": "registry/default/payment-widget/context/payment-widget-context/payment-widget-provider.tsx",
      "content": "\"use client\";\n\nimport { useMemo, type ReactNode } from \"react\";\nimport { useAccount } from \"wagmi\";\nimport type { ReceiptInfo, PaymentError } from \"../../types/index\";\nimport type { TransactionReceipt, WalletClient } from \"viem\";\nimport type { PaymentWidgetProps } from \"../../payment-widget.types\";\nimport { PaymentWidgetContext, type PaymentWidgetContextValue } from \"./index\";\n\ninterface PaymentWidgetProviderProps {\n  children: ReactNode;\n  amountInUsd: string;\n  recipientWallet: string;\n  walletAccount?: WalletClient;\n  paymentConfig: Omit<\n    PaymentWidgetProps[\"paymentConfig\"],\n    \"walletConnectProjectId\"\n  >;\n  uiConfig?: PaymentWidgetProps[\"uiConfig\"];\n  receiptInfo: ReceiptInfo;\n  onPaymentSuccess?: (\n    requestId: string,\n    transactionReceipts: TransactionReceipt[],\n  ) => void | Promise<void>;\n  onPaymentError?: (error: PaymentError) => void | Promise<void>;\n  onComplete?: () => void | Promise<void>;\n}\n\nexport function PaymentWidgetProvider({\n  children,\n  amountInUsd,\n  recipientWallet,\n  walletAccount,\n  paymentConfig,\n  uiConfig,\n  receiptInfo,\n  onPaymentSuccess,\n  onPaymentError,\n  onComplete,\n}: PaymentWidgetProviderProps) {\n  const { address } = useAccount();\n\n  const isWalletOverride = walletAccount !== undefined;\n  const connectedWalletAddress = walletAccount\n    ? walletAccount.account?.address\n    : address;\n\n  const contextValue: PaymentWidgetContextValue = useMemo(\n    () => ({\n      amountInUsd,\n      recipientWallet,\n      walletAccount,\n      connectedWalletAddress,\n      isWalletOverride,\n      paymentConfig: {\n        reference: paymentConfig.reference,\n        rnApiClientId: paymentConfig.rnApiClientId,\n        feeInfo: paymentConfig.feeInfo,\n        supportedCurrencies: paymentConfig.supportedCurrencies,\n      },\n      uiConfig: {\n        showReceiptDownload: uiConfig?.showReceiptDownload ?? true,\n        showRequestScanUrl: uiConfig?.showRequestScanUrl ?? true,\n      },\n      receiptInfo,\n      onPaymentSuccess,\n      onPaymentError,\n      onComplete,\n    }),\n    [\n      amountInUsd,\n      recipientWallet,\n      walletAccount,\n      connectedWalletAddress,\n      isWalletOverride,\n      paymentConfig.rnApiClientId,\n      paymentConfig.feeInfo,\n      paymentConfig.supportedCurrencies,\n      paymentConfig.reference,\n      uiConfig?.showReceiptDownload,\n      uiConfig?.showRequestScanUrl,\n      receiptInfo,\n      onPaymentSuccess,\n      onPaymentError,\n      onComplete,\n    ],\n  );\n\n  return (\n    <PaymentWidgetContext.Provider value={contextValue}>\n      {children}\n    </PaymentWidgetContext.Provider>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/context/payment-widget-context/payment-widget-provider.tsx"
    },
    {
      "path": "registry/default/payment-widget/context/payment-widget-context/use-payment-widget-context.ts",
      "content": "import { useContext } from \"react\";\nimport { type PaymentWidgetContextValue, PaymentWidgetContext } from \"./index\";\n\nexport function usePaymentWidgetContext(): PaymentWidgetContextValue {\n  const context = useContext(PaymentWidgetContext);\n\n  if (!context) {\n    throw new Error(\n      \"usePaymentWidgetContext must be used within a PaymentWidgetProvider\",\n    );\n  }\n\n  return context;\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/context/payment-widget-context/use-payment-widget-context.ts"
    },
    {
      "path": "registry/default/payment-widget/components/connection-handler.tsx",
      "content": "\"use client\";\n\nimport { useAccount } from \"wagmi\";\nimport { WalletConnectModal } from \"./wallet-connect-modal\";\nimport type { ReactNode } from \"react\";\n\ninterface ConnectionHandlerProps {\n  isOpen: boolean;\n  handleModalOpenChange: (open: boolean) => void;\n  paymentModal: ReactNode;\n}\n\nexport function ConnectionHandler({\n  isOpen,\n  handleModalOpenChange,\n  paymentModal,\n}: ConnectionHandlerProps) {\n  const { isConnected, isConnecting } = useAccount();\n\n  if (!isConnected) {\n    return (\n      <WalletConnectModal\n        isLoading={isConnecting}\n        isOpen={isOpen}\n        handleModalOpenChange={handleModalOpenChange}\n      />\n    );\n  }\n  return paymentModal;\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/connection-handler.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/wallet-connect-modal.tsx",
      "content": "\"use client\";\n\nimport { type Connector, useConnect } from \"wagmi\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Loader2 } from \"lucide-react\";\nimport { ICONS } from \"../constants\";\n\ninterface WalletConnectModalProps {\n  isOpen: boolean;\n  isLoading: boolean;\n  handleModalOpenChange: (open: boolean) => void;\n}\n\nexport function WalletConnectModal({\n  isOpen,\n  isLoading,\n  handleModalOpenChange,\n}: WalletConnectModalProps) {\n  const { connectors, connect, isPending } = useConnect();\n\n  const handleConnect = (connector: Connector) => {\n    connect({ connector });\n  };\n\n  const getWalletIcon = (connectorName: string) => {\n    const name = connectorName.toLowerCase();\n\n    switch (true) {\n      case name.includes(\"metamask\"):\n        return ICONS.metamask;\n      case name.includes(\"walletconnect\"):\n        return ICONS.walletConnect;\n      case name.includes(\"coinbase\"):\n        return ICONS.coinbase;\n      case name.includes(\"safe\"):\n        return ICONS.safe;\n      default:\n        return ICONS.defaultWallet;\n    }\n  };\n\n  // Filter out the generic injected connector, which needs to be in wagmi config otherwise types start breaking\n  const displayConnectors = connectors.filter(\n    (connector) => !connector.name.toLowerCase().includes(\"injected\"),\n  );\n\n  return (\n    <Dialog open={isOpen} onOpenChange={handleModalOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader className=\"text-center\">\n          <DialogTitle>Connect Wallet</DialogTitle>\n          <DialogDescription>\n            Choose a wallet to connect and make your payment\n          </DialogDescription>\n        </DialogHeader>\n        {isLoading ? (\n          <div className=\"text-center text-sm text-muted-foreground py-2\">\n            <Loader2 className=\"mx-auto mb-2 h-5 w-5 animate-spin\" />\n          </div>\n        ) : (\n          <div className=\"space-y-3 py-4\">\n            {displayConnectors.map((connector) => (\n              <Button\n                key={connector.uid}\n                onClick={() => handleConnect(connector)}\n                disabled={isPending}\n                variant=\"outline\"\n                className=\"w-full justify-start h-14\"\n              >\n                <div className=\"flex items-center space-x-3\">\n                  {/** biome-ignore lint/performance/noImgElement: This is a ShadCN library, we can't enforce next syntax on everybody */}\n                  <img\n                    src={getWalletIcon(connector.name)}\n                    alt={`${connector.name} icon`}\n                    width={32}\n                    height={32}\n                    className=\"flex-shrink-0 rounded-md\"\n                  />\n                  <div className=\"text-left\">\n                    <div className=\"font-medium\">{connector.name}</div>\n                    <div className=\"text-xs text-muted-foreground\">\n                      Connect using {connector.name}\n                    </div>\n                  </div>\n                </div>\n              </Button>\n            ))}\n\n            {isPending && (\n              <div className=\"text-center text-sm text-muted-foreground py-2\">\n                Connecting to wallet...\n              </div>\n            )}\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/wallet-connect-modal.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/payment-modal.tsx",
      "content": "\"use client\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { useState } from \"react\";\nimport { CurrencySelect } from \"./currency-select\";\nimport { BuyerInfoForm } from \"./buyer-info-form\";\nimport { PaymentConfirmation } from \"./payment-confirmation\";\nimport { PaymentSuccess } from \"./payment-success\";\nimport { DisconnectWallet } from \"./disconnect-wallet\";\nimport type { BuyerInfo } from \"../types/index\";\nimport type { ConversionCurrency } from \"../utils/currencies\";\nimport type { TransactionReceipt } from \"viem\";\nimport { usePaymentWidgetContext } from \"../context/payment-widget-context/use-payment-widget-context\";\n\ninterface PaymentModalProps {\n  isOpen: boolean;\n  handleModalOpenChange: (open: boolean) => void;\n}\n\nexport function PaymentModal({\n  isOpen,\n  handleModalOpenChange,\n}: PaymentModalProps) {\n  const { isWalletOverride, receiptInfo, onPaymentSuccess, onComplete } =\n    usePaymentWidgetContext();\n\n  const [activeStep, setActiveStep] = useState<\n    | \"currency-select\"\n    | \"buyer-info\"\n    | \"payment-confirmation\"\n    | \"payment-success\"\n  >(\"currency-select\");\n  const [selectedCurrency, setSelectedCurrency] =\n    useState<ConversionCurrency | null>(null);\n  const [buyerInfo, setBuyerInfo] = useState<BuyerInfo | undefined>(\n    receiptInfo.buyerInfo || undefined,\n  );\n  const [requestId, setRequestId] = useState<string>(\"\");\n  const [txHash, setTxHash] = useState<string>(\"\");\n\n  const handleCurrencySelect = (currency: ConversionCurrency) => {\n    setSelectedCurrency(currency);\n    setActiveStep(\"buyer-info\");\n  };\n\n  const handleBuyerInfoSubmit = (data: BuyerInfo) => {\n    setBuyerInfo(data);\n    setActiveStep(\"payment-confirmation\");\n  };\n\n  const handlePaymentSuccess = async (\n    requestId: string,\n    transactionReceipts: TransactionReceipt[],\n  ) => {\n    setRequestId(requestId);\n    setTxHash(\n      transactionReceipts[transactionReceipts.length - 1].transactionHash,\n    );\n    setActiveStep(\"payment-success\");\n    await onPaymentSuccess?.(requestId, transactionReceipts);\n  };\n\n  const reset = () => {\n    setActiveStep(\"currency-select\");\n    setSelectedCurrency(null);\n    setBuyerInfo(receiptInfo.buyerInfo || undefined);\n    setRequestId(\"\");\n  };\n\n  return (\n    <Dialog\n      open={isOpen}\n      onOpenChange={(isOpen) => {\n        // reset modal state when closing from success step\n        if (!isOpen && activeStep === \"payment-success\") {\n          reset();\n          onComplete?.();\n        }\n        handleModalOpenChange(isOpen);\n      }}\n    >\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Payment</DialogTitle>\n          <DialogDescription>\n            Pay with crypto using Request Network\n          </DialogDescription>\n        </DialogHeader>\n\n        {activeStep !== \"payment-success\" && !isWalletOverride && (\n          <DisconnectWallet />\n        )}\n\n        {activeStep === \"currency-select\" && (\n          <CurrencySelect onSubmit={handleCurrencySelect} />\n        )}\n\n        {activeStep === \"buyer-info\" && (\n          <BuyerInfoForm\n            initialData={buyerInfo}\n            onBack={() => setActiveStep(\"currency-select\")}\n            onSubmit={handleBuyerInfoSubmit}\n          />\n        )}\n\n        {activeStep === \"payment-confirmation\" &&\n          selectedCurrency &&\n          buyerInfo && (\n            <PaymentConfirmation\n              selectedCurrency={selectedCurrency}\n              buyerInfo={buyerInfo}\n              onBack={() => setActiveStep(\"buyer-info\")}\n              handlePaymentSuccess={handlePaymentSuccess}\n            />\n          )}\n\n        {activeStep === \"payment-success\" && selectedCurrency && buyerInfo && (\n          <PaymentSuccess\n            requestId={requestId}\n            txHash={txHash}\n            selectedCurrency={selectedCurrency}\n            buyerInfo={buyerInfo}\n          />\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/payment-modal.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/currency-select.tsx",
      "content": "\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport {\n  getConversionCurrencies,\n  getSymbolOverride,\n  type ConversionCurrency,\n} from \"../utils/currencies\";\nimport { Check } from \"lucide-react\";\nimport { usePaymentWidgetContext } from \"../context/payment-widget-context/use-payment-widget-context\";\n\ninterface CurrencySelectProps {\n  onSubmit: (currency: ConversionCurrency) => void;\n}\n\nexport function CurrencySelect({ onSubmit }: CurrencySelectProps) {\n  const {\n    paymentConfig: { rnApiClientId, supportedCurrencies },\n  } = usePaymentWidgetContext();\n  const [selectedCurrency, setSelectedCurrency] = useState<string>(\"\");\n\n  const {\n    data: conversionCurrencies,\n    isLoading,\n    isError,\n    refetch,\n  } = useQuery({\n    queryKey: [\"conversionCurrencies\", rnApiClientId],\n    queryFn: () => getConversionCurrencies(rnApiClientId),\n  });\n\n  const handleSubmit = () => {\n    const currency = conversionCurrencies?.find(\n      (c) => c.id === selectedCurrency,\n    );\n    if (currency) {\n      onSubmit(currency);\n    }\n  };\n\n  if (isLoading) {\n    return <div>Loading currencies...</div>;\n  }\n\n  if (isError) {\n    return (\n      <div className=\"flex flex-col items-center\">\n        <p className=\"text-red-500\">\n          Error loading currencies. Please try again later.\n        </p>\n        <Button onClick={() => refetch()}>Retry</Button>\n      </div>\n    );\n  }\n\n  if (!conversionCurrencies || conversionCurrencies.length === 0) {\n    return <div>No conversion currencies available.</div>;\n  }\n\n  const lowerCaseSupportedCurrencies = supportedCurrencies.map((currency) =>\n    currency.toLowerCase(),\n  );\n\n  const eligibleCurrencies =\n    lowerCaseSupportedCurrencies.length > 0\n      ? conversionCurrencies.filter((currency) =>\n          lowerCaseSupportedCurrencies.includes(currency.id.toLowerCase()),\n        )\n      : conversionCurrencies;\n\n  if (eligibleCurrencies.length === 0) {\n    console.warn(\n      \"Your supportedCurrencies do not match available currencies.\",\n      { supportedCurrencies, conversionCurrencies },\n    );\n    return <div>No supported currencies available.</div>;\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-lg font-semibold\">Select a currency</h3>\n      <RadioGroup value={selectedCurrency} onValueChange={setSelectedCurrency}>\n        <div className=\"space-y-2 overflow-y-auto max-h-60\">\n          {eligibleCurrencies.map((currency) => {\n            const isSelected = selectedCurrency === currency.id;\n            return (\n              <div key={currency.id}>\n                <label\n                  htmlFor={currency.id}\n                  className={`flex items-center justify-between cursor-pointer w-full p-4 rounded-lg border-2 transition-colors ${\n                    isSelected\n                      ? \"bg-accent border-primary\"\n                      : \"bg-background border-border hover:bg-muted\"\n                  }`}\n                >\n                  <div className=\"flex items-center space-x-4\">\n                    <RadioGroupItem\n                      value={currency.id}\n                      id={currency.id}\n                      className=\"sr-only\"\n                    />\n                    <div\n                      className={`w-10 h-10 rounded-full flex items-center justify-center text-sm font-medium ${\n                        isSelected\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"bg-muted text-muted-foreground\"\n                      }`}\n                    >\n                      {getSymbolOverride(currency.symbol)}\n                    </div>\n                    <div className=\"font-bold text-foreground\">\n                      {currency.name}\n                    </div>\n                  </div>\n                  {isSelected && <Check className=\"w-5 h-5 text-primary\" />}\n                </label>\n              </div>\n            );\n          })}\n        </div>\n      </RadioGroup>\n      <Button\n        onClick={handleSubmit}\n        disabled={!selectedCurrency}\n        className=\"w-full\"\n      >\n        Continue\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/currency-select.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/buyer-info-form.tsx",
      "content": "\"use client\";\n\nimport { useForm } from \"react-hook-form\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport type { BuyerInfo } from \"../types\";\n\ninterface BuyerInfoProps {\n  initialData?: BuyerInfo;\n  onBack: () => void;\n  onSubmit: (data: BuyerInfo) => void;\n}\n\nexport function BuyerInfoForm({\n  initialData,\n  onBack,\n  onSubmit,\n}: BuyerInfoProps) {\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors },\n  } = useForm<BuyerInfo>({\n    defaultValues: initialData || {},\n  });\n\n  // Watch all address fields to determine if any have values\n  const addressFields = watch([\n    \"address.street\",\n    \"address.city\",\n    \"address.state\",\n    \"address.country\",\n    \"address.postalCode\",\n  ]);\n\n  const hasAnyAddressField = addressFields.some(\n    (field) => field && field.trim() !== \"\",\n  );\n\n  const onFormSubmit = (data: BuyerInfo) => {\n    const cleanValue = (value: string | undefined) => {\n      if (typeof value === \"string\") {\n        const trimmed = value.trim();\n        return trimmed === \"\" ? undefined : trimmed;\n      }\n      return value;\n    };\n\n    // we want to send undefined for empty optional fields\n    const cleanData: BuyerInfo = {\n      email: data.email,\n      firstName: cleanValue(data.firstName),\n      lastName: cleanValue(data.lastName),\n      businessName: cleanValue(data.businessName),\n      phone: cleanValue(data.phone),\n      address: data.address && hasAnyAddressField ? data.address : undefined,\n    };\n\n    onSubmit(cleanData);\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <h3 className=\"text-lg font-semibold\">Buyer Information</h3>\n      <form onSubmit={handleSubmit(onFormSubmit)} className=\"space-y-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"email\">\n            Email <span className=\"text-red-500\">*</span>\n          </Label>\n          <Input\n            id=\"email\"\n            type=\"email\"\n            placeholder=\"john.doe@example.com\"\n            {...register(\"email\", {\n              required: \"Email is required\",\n              pattern: {\n                value: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/,\n                message: \"Please enter a valid email address\",\n              },\n            })}\n          />\n          {errors.email && (\n            <span className=\"text-sm text-destructive\">\n              {errors.email.message}\n            </span>\n          )}\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"firstName\">First Name</Label>\n            <Input\n              id=\"firstName\"\n              placeholder=\"John\"\n              {...register(\"firstName\")}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"lastName\">Last Name</Label>\n            <Input id=\"lastName\" placeholder=\"Doe\" {...register(\"lastName\")} />\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"businessName\">Business Name</Label>\n            <Input\n              id=\"businessName\"\n              placeholder=\"Acme Inc.\"\n              {...register(\"businessName\")}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"phone\">Phone</Label>\n            <Input\n              id=\"phone\"\n              type=\"tel\"\n              placeholder=\"+1 (555) 123-4567\"\n              {...register(\"phone\")}\n            />\n          </div>\n        </div>\n\n        <div className=\"space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"address.street\">\n              Street Address\n              {hasAnyAddressField && <span className=\"text-red-500\">*</span>}\n            </Label>\n            <Input\n              id=\"address.street\"\n              placeholder=\"123 Main St, Apt 4B\"\n              {...register(\"address.street\", {\n                required: hasAnyAddressField\n                  ? \"Street address is required when address is provided\"\n                  : false,\n              })}\n            />\n            {errors.address?.street && (\n              <span className=\"text-sm text-destructive\">\n                {errors.address.street.message}\n              </span>\n            )}\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address.city\">\n                City\n                {hasAnyAddressField && <span className=\"text-red-500\">*</span>}\n              </Label>\n              <Input\n                id=\"address.city\"\n                placeholder=\"San Francisco\"\n                {...register(\"address.city\", {\n                  required: hasAnyAddressField\n                    ? \"City is required when address is provided\"\n                    : false,\n                })}\n              />\n              {errors.address?.city && (\n                <span className=\"text-sm text-destructive\">\n                  {errors.address.city.message}\n                </span>\n              )}\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address.state\">\n                State/Province\n                {hasAnyAddressField && <span className=\"text-red-500\">*</span>}\n              </Label>\n              <Input\n                id=\"address.state\"\n                placeholder=\"CA\"\n                {...register(\"address.state\", {\n                  required: hasAnyAddressField\n                    ? \"State/Province is required when address is provided\"\n                    : false,\n                })}\n              />\n              {errors.address?.state && (\n                <span className=\"text-sm text-destructive\">\n                  {errors.address.state.message}\n                </span>\n              )}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address.country\">\n                Country\n                {hasAnyAddressField && <span className=\"text-red-500\">*</span>}\n              </Label>\n              <Input\n                id=\"address.country\"\n                placeholder=\"US\"\n                {...register(\"address.country\", {\n                  required: hasAnyAddressField\n                    ? \"Country is required when address is provided\"\n                    : false,\n                  pattern: hasAnyAddressField\n                    ? {\n                        value: /^[A-Z]{2}$/,\n                        message:\n                          \"Use a 2-letter ISO country code (e.g. US, CA, GB)\",\n                      }\n                    : undefined,\n                })}\n              />\n              {errors.address?.country && (\n                <span className=\"text-sm text-destructive\">\n                  {errors.address.country.message}\n                </span>\n              )}\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"address.postalCode\">\n                Postal Code\n                {hasAnyAddressField && <span className=\"text-red-500\">*</span>}\n              </Label>\n              <Input\n                id=\"address.postalCode\"\n                placeholder=\"94105\"\n                {...register(\"address.postalCode\", {\n                  required: hasAnyAddressField\n                    ? \"Postal code is required when address is provided\"\n                    : false,\n                })}\n              />\n              {errors.address?.postalCode && (\n                <span className=\"text-sm text-destructive\">\n                  {errors.address.postalCode.message}\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {hasAnyAddressField && (\n          <div className=\"text-sm text-muted-foreground\">\n            <span className=\"text-red-500\">*</span> All address fields are\n            required when providing an address\n          </div>\n        )}\n\n        <div className=\"flex space-x-2\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={onBack}\n            className=\"flex-1\"\n          >\n            Back\n          </Button>\n          <Button type=\"submit\" className=\"flex-1\">\n            Continue to Payment\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/buyer-info-form.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/payment-confirmation.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { ArrowRight, AlertCircle } from \"lucide-react\";\nimport { usePayment } from \"../hooks/use-payment\";\nimport {\n  getSymbolOverride,\n  type ConversionCurrency,\n} from \"../utils/currencies\";\nimport type { BuyerInfo, PaymentError } from \"../types/index\";\nimport { useState } from \"react\";\nimport type { TransactionReceipt } from \"viem\";\nimport { usePaymentWidgetContext } from \"../context/payment-widget-context/use-payment-widget-context\";\n\ninterface PaymentConfirmationProps {\n  selectedCurrency: ConversionCurrency;\n  buyerInfo: BuyerInfo;\n  onBack: () => void;\n  handlePaymentSuccess: (\n    requestId: string,\n    transactionReceipts: TransactionReceipt[],\n  ) => void;\n}\n\nexport function PaymentConfirmation({\n  buyerInfo,\n  selectedCurrency,\n  onBack,\n  handlePaymentSuccess,\n}: PaymentConfirmationProps) {\n  const {\n    amountInUsd,\n    recipientWallet,\n    connectedWalletAddress,\n    paymentConfig: { rnApiClientId, feeInfo, reference },\n    receiptInfo: { companyInfo: { name: companyName } = {} },\n    onPaymentError,\n    walletAccount,\n  } = usePaymentWidgetContext();\n  const { isExecuting, executePayment } = usePayment(\n    selectedCurrency.network,\n    walletAccount,\n  );\n  const [localError, setLocalError] = useState<string | null>(null);\n\n  const handleExecutePayment = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!connectedWalletAddress) return;\n\n    setLocalError(null);\n\n    try {\n      const { requestId, transactionReceipts } = await executePayment(\n        rnApiClientId,\n        {\n          payerWallet: connectedWalletAddress,\n          amountInUsd,\n          recipientWallet,\n          paymentCurrency: selectedCurrency.id,\n          reference,\n          feeInfo,\n          customerInfo: {\n            email: buyerInfo.email,\n            firstName: buyerInfo.firstName,\n            lastName: buyerInfo.lastName,\n            address: buyerInfo.address\n              ? {\n                  street: buyerInfo.address.street,\n                  city: buyerInfo.address.city,\n                  state: buyerInfo.address.state,\n                  postalCode: buyerInfo.address.postalCode,\n                  country: buyerInfo.address.country,\n                }\n              : undefined,\n          },\n        },\n      );\n\n      handlePaymentSuccess(requestId, transactionReceipts);\n    } catch (error) {\n      const paymentError = error as PaymentError;\n\n      let errorMessage = \"Payment failed. Please try again.\";\n\n      if (paymentError.type === \"wallet\") {\n        errorMessage =\n          \"Wallet connection error. Please check your wallet and try again.\";\n      } else if (paymentError.type === \"transaction\") {\n        errorMessage =\n          \"Transaction failed. Please check your balance and network connection.\";\n      } else if (paymentError.type === \"api\") {\n        errorMessage =\n          paymentError.error?.message ||\n          \"Payment service error. Please try again.\";\n      } else if (paymentError.error?.message) {\n        errorMessage = paymentError.error.message;\n      }\n      setLocalError(errorMessage);\n\n      onPaymentError?.(paymentError);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h3 className=\"text-lg font-semibold\">Payment Confirmation</h3>\n\n      <div className=\"flex items-center justify-center space-x-6 p-6 bg-muted rounded-lg\">\n        {/* Payment Currency (From) */}\n        <div className=\"flex flex-col items-center space-y-2\">\n          <div className=\"w-16 h-16 bg-primary rounded-full flex items-center justify-center text-primary-foreground font-semibold text-lg\">\n            {getSymbolOverride(selectedCurrency.symbol)}\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-xs text-muted-foreground\">From</div>\n            <div className=\"text-sm font-medium text-foreground\">\n              {selectedCurrency.name}\n            </div>\n          </div>\n        </div>\n\n        <ArrowRight className=\"w-6 h-6 text-muted-foreground\" />\n\n        <div className=\"flex flex-col items-center space-y-2\">\n          <div className=\"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-lg\">\n            USD\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-xs text-muted-foreground\">To</div>\n            <div className=\"text-sm font-medium text-foreground\">\n              ${amountInUsd}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"space-y-3\">\n        <h4 className=\"font-medium text-foreground\">Payment To</h4>\n        <div className=\"p-4 bg-muted rounded-lg space-y-3\">\n          <div className=\"text-base font-semibold text-foreground\">\n            {companyName}\n          </div>\n          <div className=\"space-y-1\">\n            <div className=\"text-xs text-muted-foreground uppercase tracking-wide\">\n              Wallet Address\n            </div>\n            <div className=\"text-sm font-mono text-foreground break-all\">\n              {recipientWallet}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {localError && (\n        <div className=\"p-4 bg-destructive/10 border border-destructive/20 rounded-lg\">\n          <div className=\"flex items-start space-x-3\">\n            <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n            <div className=\"space-y-2 flex-1\">\n              <p className=\"text-sm text-destructive font-medium\">\n                Payment Error\n              </p>\n              <p className=\"text-sm text-destructive/80\">{localError}</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex space-x-2\">\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={onBack}\n          className=\"flex-1\"\n          disabled={isExecuting || !connectedWalletAddress}\n        >\n          Back\n        </Button>\n        <Button\n          type=\"button\"\n          onClick={handleExecutePayment}\n          className=\"flex-1\"\n          disabled={isExecuting}\n        >\n          {isExecuting ? \"Processing...\" : \"Pay\"}\n        </Button>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/payment-confirmation.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/disconnect-wallet.tsx",
      "content": "import { Button } from \"@/components/ui/button\";\nimport { Wallet } from \"lucide-react\";\nimport { useAccount, useDisconnect } from \"wagmi\";\n\nexport function DisconnectWallet() {\n  const { address } = useAccount();\n  const { disconnect } = useDisconnect();\n\n  const handleDisconnect = () => {\n    disconnect();\n  };\n\n  return (\n    <div className=\"flex flex-row items-center my-2\">\n      <Wallet className=\"text-primary mr-2\" size={32} />\n      <span className=\"text-sm font-mono text-muted-foreground\">\n        {`${address?.slice(0, 6)}...${address?.slice(-4)}`}\n      </span>\n      <Button\n        variant=\"outline\"\n        onClick={handleDisconnect}\n        className=\"text-sm ml-auto\"\n      >\n        Disconnect\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/disconnect-wallet.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/payment-success.tsx",
      "content": "\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { CheckCircle, ExternalLink, Download } from \"lucide-react\";\nimport {\n  createReceipt,\n  generateReceiptNumber,\n  type CreateReceiptParams,\n} from \"../utils/receipt\";\nimport { useRef } from \"react\";\nimport { ReceiptPDFTemplate } from \"../components/receipt/receipt-template\";\nimport type { BuyerInfo } from \"../types/index\";\nimport type { ConversionCurrency } from \"../utils/currencies\";\nimport { usePaymentWidgetContext } from \"../context/payment-widget-context/use-payment-widget-context\";\n\ninterface PaymentSuccessProps {\n  requestId: string;\n  txHash: string;\n  selectedCurrency: ConversionCurrency;\n  buyerInfo: BuyerInfo;\n}\n\nexport function PaymentSuccess({\n  requestId,\n  txHash,\n  selectedCurrency,\n  buyerInfo,\n}: PaymentSuccessProps) {\n  const {\n    amountInUsd,\n    recipientWallet,\n    connectedWalletAddress,\n    receiptInfo,\n    uiConfig,\n  } = usePaymentWidgetContext();\n  const receiptRef = useRef<HTMLDivElement>(null);\n\n  const receiptParams: CreateReceiptParams = {\n    company: {\n      ...receiptInfo.companyInfo,\n      walletAddress: recipientWallet,\n    },\n    buyer: {\n      ...buyerInfo,\n      walletAddress: connectedWalletAddress || \"\",\n    },\n    payment: {\n      amount: amountInUsd,\n      chain: selectedCurrency.network,\n      currency: selectedCurrency.symbol,\n      exchangeRate: \"1\",\n      transactionHash: txHash,\n    },\n    items: receiptInfo.items,\n    totals: receiptInfo.totals,\n    metadata: {\n      receiptNumber: receiptInfo?.receiptNumber\n        ? receiptInfo.receiptNumber\n        : generateReceiptNumber(),\n      notes: `Payment processed through Request Network for ${amountInUsd} USD`,\n    },\n  };\n\n  const handleDownloadReceipt = async () => {\n    try {\n      const element = receiptRef.current;\n      if (!element) {\n        console.error(\"Receipt element not found\");\n        return;\n      }\n\n      const html2canvas = (await import(\"html2canvas-pro\")).default;\n      const jsPDF = (await import(\"jspdf\")).default;\n\n      const canvas = await html2canvas(element, {\n        scale: 2,\n        useCORS: true,\n        backgroundColor: \"#ffffff\",\n        width: element.scrollWidth,\n        height: element.scrollHeight,\n        windowWidth: element.scrollWidth,\n        windowHeight: element.scrollHeight,\n      });\n\n      const pdf = new jsPDF(\"p\", \"mm\", \"a4\");\n      const imgData = canvas.toDataURL(\"image/png\");\n\n      const pageWidth = 210;\n      const pageHeight = 297;\n      const margin = 10;\n      let imgWidth = pageWidth - margin * 2;\n      let imgHeight = (canvas.height * imgWidth) / canvas.width;\n      const maxHeight = pageHeight - margin * 2;\n      if (imgHeight > maxHeight) {\n        const ratio = maxHeight / imgHeight;\n        imgWidth = imgWidth * ratio;\n        imgHeight = imgHeight * ratio;\n      }\n      pdf.addImage(imgData, \"PNG\", margin, margin, imgWidth, imgHeight);\n      pdf.save(\n        `receipt-${receiptParams.metadata?.receiptNumber || \"payment\"}.pdf`,\n      );\n    } catch (error) {\n      console.error(\"Failed to download receipt:\", error);\n      alert(\"Failed to download receipt. Please try again.\");\n    }\n  };\n\n  const requestScanUrl = `https://scan.request.network/request/${requestId}`;\n\n  return (\n    <div className=\"flex flex-col items-center space-y-6 p-6\">\n      <div className=\"flex flex-col items-center space-y-4\">\n        <CheckCircle className=\"w-16 h-16 text-green-500\" />\n        <div className=\"text-center\">\n          <h3 className=\"text-xl font-semibold text-green-600\">\n            Payment Completed!\n          </h3>\n          <p className=\"text-gray-600 mt-2\">\n            Your payment has been processed successfully.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"flex flex-col space-y-3 w-full\">\n        {uiConfig.showReceiptDownload && (\n          <>\n            <Button onClick={handleDownloadReceipt} className=\"w-full\">\n              <Download className=\"w-4 h-4 mr-2\" />\n              Download Receipt PDF\n            </Button>\n            <div\n              aria-hidden=\"true\"\n              style={{\n                position: \"absolute\",\n                left: \"-10000px\",\n                top: 0,\n                opacity: 0,\n                pointerEvents: \"none\",\n                width: \"800px\",\n                backgroundColor: \"white\",\n              }}\n            >\n              <div ref={receiptRef}>\n                <ReceiptPDFTemplate receipt={createReceipt(receiptParams)} />\n              </div>\n            </div>\n          </>\n        )}\n        {uiConfig.showRequestScanUrl && (\n          <Button variant=\"outline\" asChild className=\"w-full\">\n            <a\n              href={requestScanUrl}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"inline-flex items-center justify-center\"\n            >\n              <ExternalLink className=\"w-4 h-4 mr-2\" />\n              View on Request Scan\n            </a>\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/payment-success.tsx"
    },
    {
      "path": "registry/default/payment-widget/payment-widget.types.ts",
      "content": "import type { PropsWithChildren } from \"react\";\nimport type { TransactionReceipt, WalletClient } from \"viem\";\nimport type { FeeInfo, ReceiptInfo, PaymentError } from \"./types\";\n\nexport interface PaymentConfig {\n  walletConnectProjectId?: string;\n  rnApiClientId: string;\n  reference?: string;\n  feeInfo?: FeeInfo;\n  supportedCurrencies: string[]; // an array of currency  ids\n}\n\nexport interface UiConfig {\n  showRequestScanUrl?: boolean;\n  showReceiptDownload?: boolean;\n}\n\n/*\nExample on which tailwind css variables we use and that you might want to override in your app\n@theme inline {\n  --color-background: var(--background);\n  --color-foreground: var(--foreground);\n  --font-sans: var(--font-geist-sans);\n  --font-mono: var(--font-geist-mono);\n  --color-ring: var(--ring);\n  --color-input: var(--input);\n  --color-border: var(--border);\n  --color-destructive: var(--destructive);\n  --color-destructive-foreground: var(--destructive-foreground);\n  --color-accent-foreground: var(--accent-foreground);\n  --color-accent: var(--accent);\n  --color-muted-foreground: var(--muted-foreground);\n  --color-muted: var(--muted);\n  --color-secondary-foreground: var(--secondary-foreground);\n  --color-secondary: var(--secondary);\n  --color-primary-foreground: var(--primary-foreground);\n  --color-primary: var(--primary);\n  --color-popover-foreground: var(--popover-foreground);\n  --color-popover: var(--popover);\n  --color-card-foreground: var(--card-foreground);\n  --color-card: var(--card);\n  --radius-sm: calc(var(--radius) - 4px);\n  --radius-md: calc(var(--radius) - 2px);\n  --radius-lg: var(--radius);\n  --radius-xl: calc(var(--radius) + 4px);\n}\n*/\n\nexport interface PaymentWidgetProps extends PropsWithChildren {\n  // The amount to be paid in USD\n  amountInUsd: string;\n  // The recipient wallet address for the payment\n  recipientWallet: string;\n  // Override for the buyer's wallet account if you already have an active session\n  walletAccount?: WalletClient;\n  // Configuration for the payment widget\n  paymentConfig: PaymentConfig;\n  // UI specific config\n  uiConfig?: UiConfig;\n  // Receipt information\n  receiptInfo: ReceiptInfo;\n  // On success callback when the payment is completed\n  onPaymentSuccess?: (\n    requestId: string,\n    receipts: TransactionReceipt[],\n  ) => void | Promise<void>;\n  // On error callback when the payment fails\n  onPaymentError?: (error: PaymentError) => void | Promise<void>;\n  // Callback when the widget is closed from the success step\n  onComplete?: () => void | Promise<void>;\n}\n",
      "type": "registry:lib",
      "target": "components/payment-widget/payment-widget.types.ts"
    },
    {
      "path": "registry/default/payment-widget/constants.ts",
      "content": "export const RN_API_URL =\n  (typeof process !== \"undefined\" && process.env.NEXT_PUBLIC_REQUEST_API_URL) ||\n  \"https://api.request.network\";\nexport const ICONS = {\n  metamask:\n    \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUiIGhlaWdodD0iMzQiIHZpZXdCb3g9IjAgMCAzNSAzNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTMyLjcwNzcgMzIuNzUyMkwyNS4xNjg4IDMwLjUxNzRMMTkuNDgzMyAzMy45MDA4TDE1LjUxNjcgMzMuODk5MUw5LjgyNzkzIDMwLjUxNzRMMi4yOTIyNSAzMi43NTIyTDAgMjUuMDQ4OUwyLjI5MjI1IDE2LjQ5OTNMMCA5LjI3MDk0TDIuMjkyMjUgMC4zMTIyNTZMMTQuMDY3NCA3LjMxNTU0SDIwLjkzMjZMMzIuNzA3NyAwLjMxMjI1NkwzNSA5LjI3MDk0TDMyLjcwNzcgMTYuNDk5M0wzNSAyNS4wNDg5TDMyLjcwNzcgMzIuNzUyMloiIGZpbGw9IiNGRjVDMTYiLz4KPHBhdGggZD0iTTIuMjkzOTUgMC4zMTIyNTZMMTQuMDY5MSA3LjMyMDQ3TDEzLjYwMDggMTIuMTMwMUwyLjI5Mzk1IDAuMzEyMjU2WiIgZmlsbD0iI0ZGNUMxNiIvPgo8cGF0aCBkPSJNOS44Mjk1OSAyNS4wNTIyTDE1LjAxMDYgMjguOTgxMUw5LjgyOTU5IDMwLjUxNzVWMjUuMDUyMloiIGZpbGw9IiNGRjVDMTYiLz4KPHBhdGggZD0iTTE0LjU5NjYgMTguNTU2NUwxMy42MDA5IDEyLjEzMzNMNy4yMjY5MiAxNi41MDA5TDcuMjIzNjMgMTYuNDk5M1YxNi41MDI1TDcuMjQzMzUgMjAuOTk4M0w5LjgyODA5IDE4LjU1NjVIOS44Mjk3NEgxNC41OTY2WiIgZmlsbD0iI0ZGNUMxNiIvPgo8cGF0aCBkPSJNMzIuNzA3NyAwLjMxMjI1NkwyMC45MzI2IDcuMzIwNDdMMjEuMzk5MyAxMi4xMzAxTDMyLjcwNzcgMC4zMTIyNTZaIiBmaWxsPSIjRkY1QzE2Ii8+CjxwYXRoIGQ9Ik0yNS4xNzIyIDI1LjA1MjJMMTkuOTkxMiAyOC45ODExTDI1LjE3MjIgMzAuNTE3NVYyNS4wNTIyWiIgZmlsbD0iI0ZGNUMxNiIvPgo8cGF0aCBkPSJNMjcuNzc2NiAxNi41MDI1SDI3Ljc3ODNIMjcuNzc2NlYxNi40OTkzTDI3Ljc3NSAxNi41MDA5TDIxLjQwMSAxMi4xMzMzTDIwLjQwNTMgMTguNTU2NUgyNS4xNzIyTDI3Ljc1ODYgMjAuOTk4M0wyNy43NzY2IDE2LjUwMjVaIiBmaWxsPSIjRkY1QzE2Ii8+CjxwYXRoIGQ9Ik05LjgyNzkzIDMwLjUxNzVMMi4yOTIyNSAzMi43NTIyTDAgMjUuMDUyMkg5LjgyNzkzVjMwLjUxNzVaIiBmaWxsPSIjRTM0ODA3Ii8+CjxwYXRoIGQ9Ik0xNC41OTQ3IDE4LjU1NDlMMTYuMDM0MSAyNy44NDA2TDE0LjAzOTMgMjIuNjc3N0w3LjIzOTc1IDIwLjk5ODRMOS44MjYxMyAxOC41NTQ5SDE0LjU5M0gxNC41OTQ3WiIgZmlsbD0iI0UzNDgwNyIvPgo8cGF0aCBkPSJNMjUuMTcyMSAzMC41MTc1TDMyLjcwNzggMzIuNzUyMkwzNS4wMDAxIDI1LjA1MjJIMjUuMTcyMVYzMC41MTc1WiIgZmlsbD0iI0UzNDgwNyIvPgo8cGF0aCBkPSJNMjAuNDA1MyAxOC41NTQ5TDE4Ljk2NTggMjcuODQwNkwyMC45NjA3IDIyLjY3NzdMMjcuNzYwMiAyMC45OTg0TDI1LjE3MjIgMTguNTU0OUgyMC40MDUzWiIgZmlsbD0iI0UzNDgwNyIvPgo8cGF0aCBkPSJNMCAyNS4wNDg4TDIuMjkyMjUgMTYuNDk5M0g3LjIyMTgzTDcuMjM5OTEgMjAuOTk2N0wxNC4wMzk0IDIyLjY3NkwxNi4wMzQzIDI3LjgzODlMMTUuMDA4OSAyOC45NzZMOS44Mjc5MyAyNS4wNDcySDBWMjUuMDQ4OFoiIGZpbGw9IiNGRjhENUQiLz4KPHBhdGggZD0iTTM1LjAwMDEgMjUuMDQ4OEwzMi43MDc4IDE2LjQ5OTNIMjcuNzc4M0wyNy43NjAyIDIwLjk5NjdMMjAuOTYwNyAyMi42NzZMMTguOTY1OCAyNy44Mzg5TDE5Ljk5MTIgMjguOTc2TDI1LjE3MjIgMjUuMDQ3MkgzNS4wMDAxVjI1LjA0ODhaIiBmaWxsPSIjRkY4RDVEIi8+CjxwYXRoIGQ9Ik0yMC45MzI1IDcuMzE1NDNIMTcuNDk5OUgxNC4wNjczTDEzLjYwMDYgMTIuMTI1MUwxNi4wMzQyIDI3LjgzNEgxOC45NjU2TDIxLjQwMDggMTIuMTI1MUwyMC45MzI1IDcuMzE1NDNaIiBmaWxsPSIjRkY4RDVEIi8+CjxwYXRoIGQ9Ik0yLjI5MjI1IDAuMzEyMjU2TDAgOS4yNzA5NEwyLjI5MjI1IDE2LjQ5OTNINy4yMjE4M0wxMy41OTkxIDEyLjEzMDFMMi4yOTIyNSAwLjMxMjI1NloiIGZpbGw9IiM2NjE4MDAiLz4KPHBhdGggZD0iTTEzLjE3IDIwLjQxOTlIMTAuOTM2OUw5LjcyMDk1IDIxLjYwNjJMMTQuMDQwOSAyMi42NzI3TDEzLjE3IDIwLjQxODJWMjAuNDE5OVoiIGZpbGw9IiM2NjE4MDAiLz4KPHBhdGggZD0iTTMyLjcwNzcgMC4zMTIyNTZMMzQuOTk5OSA5LjI3MDk0TDMyLjcwNzcgMTYuNDk5M0gyNy43NzgxTDIxLjQwMDkgMTIuMTMwMUwzMi43MDc3IDAuMzEyMjU2WiIgZmlsbD0iIzY2MTgwMCIvPgo8cGF0aCBkPSJNMjEuODMzIDIwLjQxOTlIMjQuMDY5NEwyNS4yODUzIDIxLjYwNzlMMjAuOTYwNCAyMi42NzZMMjEuODMzIDIwLjQxODJWMjAuNDE5OVoiIGZpbGw9IiM2NjE4MDAiLz4KPHBhdGggZD0iTTE5LjQ4MTcgMzAuODM2MkwxOS45OTExIDI4Ljk3OTRMMTguOTY1OCAyNy44NDIzSDE2LjAzMjdMMTUuMDA3MyAyOC45Nzk0TDE1LjUxNjcgMzAuODM2MiIgZmlsbD0iIzY2MTgwMCIvPgo8cGF0aCBkPSJNMTkuNDgxNiAzMC44MzU5VjMzLjkwMjFIMTUuNTE2NlYzMC44MzU5SDE5LjQ4MTZaIiBmaWxsPSIjQzBDNENEIi8+CjxwYXRoIGQ9Ik05LjgyOTU5IDMwLjUxNDJMMTUuNTIgMzMuOTAwOFYzMC44MzQ2TDE1LjAxMDYgMjguOTc3OEw5LjgyOTU5IDMwLjUxNDJaIiBmaWxsPSIjRTdFQkY2Ii8+CjxwYXRoIGQ9Ik0yNS4xNzIxIDMwLjUxNDJMMTkuNDgxNyAzMy45MDA4VjMwLjgzNDZMMTkuOTkxMSAyOC45Nzc4TDI1LjE3MjEgMzAuNTE0MloiIGZpbGw9IiNFN0VCRjYiLz4KPC9zdmc+\",\n  walletConnect:\n    \"data:image/webp;base64,UklGRoQFAABXRUJQVlA4IHgFAAAQHwCdASp4AHgAPkkkjUSioiEVDGQYKASEsQBrTdi9V/GD8mflPpT9Q+7PEdo66nv5H8k/qfWK8wD+Afwn/AfxP+d9gDzAfar7wHoY/4vqAf6DqAOfE9iL+2/679o/Zd9QD//+oB//5lWRX6GuwHaY3eTHXFDyf94MY8zXvW3sC+Ux7Ff3I9lUnxBszMzMi+F8vttSqgutQquCB9o/6xQmMK42Q/WbdImEUpOqAd6u9h29GS1GgtbyEG2sDVzO4ZMHRCs1Z+SDbXLhIp6P3MCv8qbQY5kqbkHw1whDyDmZDXnO2N0BG0kh4OJlQEVeNeizP7fD34527u7u7u7u7u7sAAD+6Isf/94lW/WpT/f/+3OgFGaTgAAGDhlRYjGqZQcAAT9yh1vvJ8zrnfD5w65SpgvO8JdZndGf06eAg4abEWdwfNrhPidbW62baoeoW6QKe6Po6a3SfDgUxTkBiyfa6aQUtIUGi1uBLXPRARZxxk1RzVeP7tX4YVlU46ZT4F21rfa+L9KZhfgsVYoGdfucm3vMShtAjG1KrxQXIerWSCwntsXHunyedtYaZoKtyPde5PXpW7xpVP32KCdQU5pFOncjUdeC5f0rzo6/PnTKPTrdy16JvvX7zEKrr+WqEZb5hXukMwo6N8Ih6/Emwxd8FgnLe8b5Bnn7k/uM+szg3FzzTeXQeufvevm98uB2YZN/M5Yjadke6+6hxX9Yg6K84Ph+iAklF9vUUs3R38v6EYfsZZ6EyjnjxA+y+Bgr94Mgjuv9vmgfQkpNGC9xgu3TSWRVS0wC37go5DrovSTTs3E8ZiKPerDFKcBNvadynIfa6hFM3wvSQ0SodZsHlh7j6vPa+mtK2EuUN+I0VTKuwuGpPTIo/jrtfdXtSHgjEfm94ypk3Wor04YhlhPB766ggMJBtI4m9/Y6zTBgcG7c28W7SB5v8Vub8I3wuLcqJLP3kAaoVHwAoydvZojNzfsmP6MwbhR1Lr5tsZVH31IUEbg76DrQ+i2ZOTl9qCKDwiQhV5k35/DZGlQDNQg5gXrPDhFUBpIBmyhJize4Z13x54n2sf/RDdrj/51FBrl0d8sNmUeP7FeNGkz5/T7W0NEWBZwxHn2MhV02YkbceGkR583AW98Gvxj5OMHAgfNi39ttJOupfJ7/NOz8W/Z0k5d/sxuyfqQhs7yPDgqxdIWvW0493pAePUIxY0eW2x7bZxfF6l2CSpAuTZQ4/7F7nU0Jc5q2qruF453uW5aGcDv7hb73x1LFBj/w6PxrMjACi/3FWRhZACmvX8Ec5wdWI0K3QsCTSmc7bpk0f17rrgqv/U0iLrqrUuLOc9InkhsxB/5jVsTG37gbkbFFqZSyXBksIuJ0aKHo4MFkTr8N9Tg7d3RRRDNQHtpm+4eG9hpNK+fkJEoQ6Ne3VYoe8sg114BI9eVPqXK3xestyFZNeS16I2gewgFTLNcar8155bz4WSLgTGccxGOSbNv0d1zuTd5o8wdP7oEb4tnT+KMdnjrgVHcvhhUnHFeaFJLXUYdUKzgN37EDPajnygrfldc0NOoNj5Bamnxlq9EEDwGeLI5wJbXCYjOU4Dz5pbDtJsM2MgPQEUfMwRvocWG+DdXe6ETfjIX0H6zr0n3fasZGGmMqFCNZcVMctEx5+mqAG+JnWvd54aoOizkzCMhmYb14IcfiocgQ3KsD3gIC4rQV9E2XaUImdbfMpGF61/wqGvda6aRDxtHd1ncqrv43wQX3Fx21uN1knQwmrwi62tw4Wowsd5IbrPWsl1jMbRdwDkvscxEqzllnBxtHcAVIz5yzQ3NTCMmOkWVm77vmiJmqtx2MBoXs3Y6uVDgNkhNfu7Mvc3jMAAAAAAAAAA==\",\n  coinbase:\n    \"data:image/webp;base64,UklGRuAFAABXRUJQVlA4INQFAACQIACdASp4AHgAPkkijkQioiGXCyQcKASEsQN8c2HiuAn9m/FXv/s0eA/mf7Vfkz2fu/fw79J/jxmb/G/+n8yf+d/kHuA8wD9Ff9h1AP1g/s3sA/UT/Vf4z3hP4j/kv4B7gP83/KP7p7gH8+/wvWAfoB7AH6SelL+3Xwb/rh+1vtCXRH0ve8f5zhjlYsENIFMv8jf0t0t3mAeyB+wBaFRSEFJ85QT4wMY//h5Wlu4TPcVFeRjNCzkZt45BD1kFBoRy1sqh8qFDgfeX/D+cIlLM5yIHMXM8Z04AaLr6xJpiCnmNrbtii3uMOSRTYDj+6dtl939Kx23Ixh5BAMaZ1HngzO3U+1xDyiUA4ss2AAD+7/246f8RO+IneImyhtikVuTJl5GdRXejyZ8eT2bkasC6C1DoHzZdbsY0DSZv+qv0P6G5Cv37u5VmTK2jd8/KvSxtw1SdX+UjD6wZIJ6Q8Gcn+eMa0OP894J3M/WTO1v9TC2+VmPxrIhgiAzDs0TSGbNMi0psELMxuCu+LqgNGr2bjt3G/F63cM86fE9c7LHp8ply/wO+uxQtcEr1A7z4gpBiif/KPZiwfrKkrtAAmE4jX7Si6sFt0JjSnQfFfuQc7oKqj2/x2Ten6iTJFnTIRPBcR5nzCqT8fjzfyyCeg2HDSldW87YMEGYBLbS1FuNCaMTcSze0IRjPjjAjteIYwemmxRR4qNe2bpYMjG8EvKyiexULpmlU4EKgLmHGBy3JqfnSboHVNqYMBO97kx2eQbzoEgvIEPT1wSMvi5q8BZ0OX4uv1brvwNQfE8RLiON0wdvoivhnCOhx1P+CSsxH9L7flNZfQ2y9/nwSW9C9H5d14rSK2t/vtIarPTQEmHe6naSPkZ5+GcbUQ/SwTA5EkBL+9Z+UJIylYB8dk4Ha+y6YLL9nCclJPz1+D9KWUfJhK380kkFyZ/I4NRJ9P6XdEpx8Z3f/zdeQUI2AZMU/Pf+Ly/99QQpQIlrhOL3DagEdnJVYSYEr3Z1BrUv4Wpm2H1gdpCS3sS4fYkFlbewzr+jjCeYRgXs+d/hmba33VlmyxrnJg9ujTJj1QxoG4utbk1Tf9Tg8/b3B/zgMCRRANPCC9wUx81zORgfDst3wZhOq3qS8XlwfH3uHfLREQ8gaUsY3P/j0Vo/6pihVGc9Coqxxn3zLYcdrqoav/MyEPcXxNschwk15gRP0Omh7i/3LaWr/aAwcCU5jxZ8e/O2/zQZ8ENjpOLgZAy52G6QhYFXVjdoK28DQnB9zM/1gICr7tsxUPxfyUy0aliEZs8Mkc7Pwjq2tJcVNnwTMTAkiH4jdfKHedXwcHMAoMEhTd6gTkOUCz7hCzDguvX0Wk5inBSHo3W6M1kmPcFBHhty4Uz31qBkhWsktj0gEmgF1fWmMAEVw/y7C2Sm8kKekWMpEzpDTqqwoXaY8YyFWnBK+akFoIAgTCttUBDvbFdn2Xx9P1/SjkXxJg2G+aK4vIDQD1tobM/VmoTFnNc+uXqSOyyo8Ip0uQWU2XY+cG2nyR9RmdutY2YqiMOPdm2uTQxDyQ8gn5nUz6pEz4nJ/eeXJBuXeilVON+E6wFfox4EACd6DvukaUif9FJ0L+DWCFwDNzBVr9kCQH7tq65j5WpOfl1n68fEsGnzM/xLJX4Z5TmkumyI7BnHdEMHuFWVqxkHucNuS6qjBnUY0LzFY/eMO7Yn/JM1tBo4nrauNryL+MdwTQXJBooDQLYKw4x6gPfyyPqE6meMdl3CR0L0zUSnkmnMBLoPDDZW+cxrkZ+yTpU1ekcTWQCBLC/nbu7K2C8FdCxqv02mQaWTJW0IWNGLh+39CcdGNIKNJ43wCyMyfuH49jg64SEKZpEE8JXljz1I/XR3PuGM1snokHQomCSXb4cm2fBI4jWTeoxhDus89Wk1ODk50ZWp6DihAMecO3Ul630ci/tqcLfGj2oOrhkRIhFeCA3ZN1dBudQAfeZE6eOk/Hb9PkAAA\",\n  safe: \"data:image/webp;base64,UklGRmwEAABXRUJQVlA4IGAEAAAQHQCdASp4AHgAPkkijUQioqEXTPQAKASEoA1XnRfpv4k+DZc/rX4v/lH00e+XfT9pfcBlxn2j8o/7d86f4B/gP41+gHyA8wD9AP7R9oHCA/YD/Jf4D3dP8B/gP8B2AH6ucAB+uXpT/7T3V/2p/0H9m9krNM/7B1cq5zK976PADTDTNfHc+PLcMbk9SFTCv8ZK3c2kA4wxWaJEMekH7chiyjmezfBnGX7l6ZLEA/jDMtgB36h24aGBseH81LSvxBz2xwNujw/xoPLk6GGfe7gLfF2YZ3Zkq3NMEt21YwfxpCxuKElykJJrRDqMJGuBLfCAAP7wYCBRUOxLnuefomvomJgo+dAB3q+0mhgl9zX5m2b0zxrt/3BrCkvWTPpubP4mKKCrfGVI184WtIxifdw//FbCgy0ECDSgBGTtg6PQ1me430CfaGQwNqFjiuMWV381BhXRq7hzE2rtUWjMvT7W3oWJUfPOnY1KIThNxn2cBTQ5owd5fdSenGZckR6V43Ipk9FB7X6MGSRUo3wpoq5VUm+JQsgi/VkAAD3vyuWknHeTw/rP0cKYmZHkuVoA9E0xdcWDQdZO0Qt1wrosPu5BSsFF5osjLFb/v+n5jVASMrMZz/tW35s3GmY9cALgOWXNzgkWXb30BEciwVYgxAvPmnHrQRPGHXt8GBYM7Gi2dXm3RGyHtWpHgSO3jPN0CyGqrECxvuYOkX/hVNBo1KPWsQvgdEKbmw2x50cEOuJqy0E+VKMAfoYM7SeflkVUSiMpNdcA9zEeidL4Sc42m2blDop7c61kxw4ynW6aIgMdAzW/zWiDtILZSgyKk/Ee/ksyY6hmsFrTkxyBLG4KQgrlFXZR/3YLaC3FfH0pL5yUlo/FdRG4lxBm8pHASmePW/oASzAMaHfI8xBv04BjOavXJCxxlQ5/j7F6ShqFhTo+0u5HrJII7Ab25IiXUTSo5MvT42erBSNNo+gV9vqv0kNieeGlqh++PmE2ONC8Ozay7U/NCCTjVgQEMCJ1zEDdc6qkAT9yBTFGShGh/8LUqqhem5Ln2ZT1+SX79SkUP+xubo3cJsCVNxtQtZ6oG1xOCZaNiOdAdx0hcWKmGPTRfJpR+7DqQ9vpc6Sx4G4NCsyB9VpvLoiwZwKw4Aq8AcLwJ4h8geguxsBGaT0BJKGTpOb/JFaHLfDPiCVIrgezK7WFRxtSKKWun4bVDF5YUupz620xC6639ore7sZXvYN7ZneX2vMmR1a+Usq9Z5gfqVNvXOHD3a96PqvHj47SeZ9bQFy1n570OcCrj8fkfNT6jLcdF1iTbK7i9/Yw+5oTz7M4Koda9E8jKW4obgrb2EwkgMYIm0D+/6+O8s+jRgHhxLW/mDExy8avr0XAUtZjnBiWM/nEc5zMBckPwsSsg9tm8RqxV4bV3U6kNDC9FvAjFjDv9BdpHGCJiGaj9vFM7x7poRHF9vAqKGkuIkSTP/tx+Wj/80cBl4DUhdykoAAAAAAA\",\n  requestNetwork:\n    \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDQiIHZpZXdCb3g9IjAgMCA0MiA0NCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzFfMjQ2MSkiPgo8cGF0aCBkPSJNMjguMjIzMyAyNC43NjIxTDM5LjU2NTMgMTMuOTMxM0M0MC40MTc1IDEzLjEyNDMgNDAuODk1MiAxMi4wMTI2IDQwLjg5NTIgMTAuODY0OUw0MC45MTM5IDIuMTE0MjNDNDAuOTEzOSAxLjY2NTkzIDQwLjczNiAxLjIzNTU3IDQwLjQwODIgMC45MTI3OTZMMTguNjUxNiAyMS43MDQ3QzE2Ljg4MTQgMjMuMzgxMyAxNi44NzIxIDI2LjExNTkgMTguNjIzNSAyNy44MDE1TDE4LjY1MTYgMjcuODI4NEwzMy45OTI2IDQyLjQ2OTdDMzUuNzYyOCA0NC4xNTUzIDM4LjYyODcgNDQuMTQ2MyA0MC4zODAxIDQyLjQ1MThDNDIuMTQwOCA0MC43NTcyIDQyLjEzMTUgMzguMDEzNiA0MC4zNjEzIDM2LjMzN0wyOC4yMjMzIDI0Ljc2MjFaIiBmaWxsPSIjMzI4OTY1Ii8+CjxwYXRoIGQ9Ik00MC42ODA4IC0yLjQ0MzEySDUuMDEzNUMyLjEzMDggLTIuNDQzMTIgMC4wMDA1MzY2OTQgLTAuMjk3MTE3IDAuMDAwNTM2Njk0IDIuNjI4MzhWMzkuMjc0MUMtMC4wMzg1NTA4IDQxLjg0MzUgMi4wNjI0IDQzLjk2MDcgNC42NzE0OSA0My45OTkySDQuNzg4NzVDNy4zODgwNiA0NC4wNDczIDkuNTM3ODcgNDEuOTk3NSA5LjU4NjczIDM5LjQzNzdWNi41OTMySDMzLjMxMjhMNDIgLTEuOTIzNDZDNDEuNjQ4MiAtMi4yNjk5IDQxLjE3OTIgLTIuNDYyMzcgNDAuNjgwOCAtMi40NDMxMloiIGZpbGw9IiM1OEUxQTUiLz4KPC9nPgo8ZGVmcz4KPGNsaXBQYXRoIGlkPSJjbGlwMF8xXzI0NjEiPgo8cmVjdCB3aWR0aD0iNDIiIGhlaWdodD0iNDQiIGZpbGw9IndoaXRlIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==\",\n  defaultWallet:\n    \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMTIyLjg4IDEwMS4zMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTIyLjg4IDEwMS4zMyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe2ZpbGwtcnVsZTpldmVub2RkO2NsaXAtcnVsZTpldmVub2RkO308L3N0eWxlPjxnPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik05MC42MiwzMy4zMmgxOC40di0yLjc5Yy0yLjg4LTEwLjczLTEwLjItMTAuNjYtMTkuMjUtMTAuNTdjLTEuNDksMC4wMi0yLjg0LDAuMDMtMi45MiwwLjAzSDE4LjA3IGMtMS41OCwwLTIuODYtMS4yOC0yLjg2LTIuODZjMC0xLjU4LDEuMjgtMi44NiwyLjg2LTIuODZoNjguNzhjMi4wMywwLDIuNDYsMCwyLjg3LTAuMDFjNy43NC0wLjA4LDE0LjUtMC4xNSwxOS4zLDQuMzh2LTEuMzEgYzAtMy4yLTEuMzEtNi4xLTMuNDItOC4yMWMtMi4xMS0yLjExLTUuMDItMy40Mi04LjIxLTMuNDJIMTcuMzRjLTMuMiwwLTYuMSwxLjMxLTguMjEsMy40MmMtMi4xMSwyLjExLTMuNDIsNS4wMi0zLjQyLDguMjF2NjYuNjQgYzAsMy4yLDEuMzEsNi4xLDMuNDIsOC4yMWMyLjExLDIuMTEsNS4wMiwzLjQyLDguMjEsMy40Mmg4MC4wNGMzLjIsMCw2LjEtMS4zMSw4LjIxLTMuNDJjMi4xMS0yLjExLDMuNDItNS4wMiwzLjQyLTguMjF2LTkuNDYgaC0xOC40Yy01LjU1LDAtMTAuNi0yLjI3LTE0LjI1LTUuOTJjLTMuNjUtMy42NS01LjkyLTguNy01LjkyLTE0LjI1di0wLjg3YzAtNS41NSwyLjI3LTEwLjYsNS45Mi0xNC4yNSBDODAuMDIsMzUuNTksODUuMDYsMzMuMzIsOTAuNjIsMzMuMzJMOTAuNjIsMzMuMzJ6IE0xMTQuNzMsMzMuNDNjMi4wNywwLjMxLDMuOTIsMS4yOSw1LjMzLDIuNzFjMS43NCwxLjc0LDIuODEsNC4xNCwyLjgxLDYuNzggdjIxLjZjMCwyLjc2LTEuMTIsNS4yNi0yLjkzLDcuMDdjLTEuMzksMS4zOS0zLjIsMi4zOC01LjIxLDIuNzZ2OS42M2MwLDQuNzctMS45NSw5LjExLTUuMDksMTIuMjUgYy0zLjE0LDMuMTQtNy40OCw1LjA5LTEyLjI1LDUuMDlIMTcuMzRjLTQuNzcsMC05LjExLTEuOTUtMTIuMjUtNS4wOUMxLjk1LDkzLjEsMCw4OC43NiwwLDgzLjk5VjE3LjM0IGMwLTQuNzcsMS45NS05LjExLDUuMDktMTIuMjVDOC4yMywxLjk1LDEyLjU3LDAsMTcuMzQsMGg4MC4wNGM0Ljc3LDAsOS4xMSwxLjk1LDEyLjI1LDUuMDljMy4xNCwzLjE0LDUuMDksNy40OCw1LjA5LDEyLjI1VjMzLjQzIEwxMTQuNzMsMzMuNDN6IE04OC4xNCw0Ni4xMWM0LjA1LDAsNy4zMywzLjI4LDcuMzMsNy4zM2MwLDQuMDUtMy4yOCw3LjMzLTcuMzMsNy4zM2MtNC4wNSwwLTcuMzMtMy4yOC03LjMzLTcuMzMgQzgwLjgxLDQ5LjM5LDg0LjA5LDQ2LjExLDg4LjE0LDQ2LjExTDg4LjE0LDQ2LjExeiIvPjwvZz48L3N2Zz4=\",\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/constants.ts"
    },
    {
      "path": "registry/default/payment-widget/utils/wagmi.ts",
      "content": "import { createConfig, http, type CreateConnectorFn } from \"wagmi\";\nimport {\n  arbitrum,\n  base,\n  mainnet,\n  optimism,\n  polygon,\n  sepolia,\n} from \"wagmi/chains\";\nimport {\n  injected,\n  coinbaseWallet,\n  metaMask,\n  safe,\n  walletConnect,\n} from \"wagmi/connectors\";\n\nexport const getWagmiConfig = (walletConnectProjectId?: string) => {\n  const connectors: CreateConnectorFn[] = [\n    injected(),\n    coinbaseWallet({\n      appName: \"Request Network Payment\",\n    }),\n    metaMask(),\n    safe(),\n  ];\n\n  if (walletConnectProjectId && walletConnectProjectId.length > 0) {\n    try {\n      const connector = walletConnect({\n        projectId: walletConnectProjectId,\n        metadata: {\n          name: \"Request Network Payment\",\n          description: \"Pay with cryptocurrency using Request Network\",\n          url: \"https://request.network\",\n          icons: [\"https://request.network/favicon.ico\"],\n        },\n        showQrModal: true,\n      });\n\n      connectors.push(connector);\n    } catch (error) {\n      console.error(\"WalletConnect creation failed:\", error);\n    }\n  }\n\n  const config = createConfig({\n    chains: [mainnet, sepolia, arbitrum, optimism, polygon, base],\n    connectors,\n    transports: {\n      [mainnet.id]: http(),\n      [sepolia.id]: http(),\n      [arbitrum.id]: http(),\n      [optimism.id]: http(),\n      [polygon.id]: http(),\n      [base.id]: http(),\n    },\n  });\n\n  return config;\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/utils/wagmi.ts"
    },
    {
      "path": "registry/default/payment-widget/utils/payment.ts",
      "content": "import type { TransactionReceipt } from \"viem\";\nimport { RN_API_URL } from \"../constants\";\nimport type { FeeInfo, PaymentError } from \"../types\";\n\nexport interface PaymentParams {\n  amountInUsd: string;\n  payerWallet: string;\n  recipientWallet: string;\n  paymentCurrency: string;\n  reference?: string;\n  feeInfo?: FeeInfo;\n  customerInfo: {\n    // This matches the API spec\n    firstName?: string;\n    lastName?: string;\n    email?: string;\n    address?: {\n      street?: string;\n      city?: string;\n      state?: string;\n      postalCode?: string;\n      country?: string;\n    };\n  };\n}\n\ninterface PayoutAPITransaction {\n  to: string;\n  data: string;\n  value: number | string | { type: string; hex: string };\n}\nexport interface PayoutAPIResponse {\n  requestId: string;\n  paymentReference: string;\n  transactions: PayoutAPITransaction[];\n  metadata: {\n    stepsRequired: number;\n    needsApproval: boolean;\n    approvalTransactionIndex: number;\n    paymentTransactionIndex: number;\n  };\n}\n\nexport type TxParams = {\n  to: `0x${string}`;\n  data: `0x${string}`;\n  value: bigint;\n};\n\nexport type SendTransactionFunction = (tx: TxParams) => Promise<`0x${string}`>;\n\nexport type WaitForTransactionFunction = (\n  hash: `0x${string}`,\n) => Promise<TransactionReceipt>;\n\nexport const isPaymentError = (error: unknown): error is PaymentError => {\n  return (\n    error !== null &&\n    typeof error === \"object\" &&\n    \"type\" in error &&\n    \"error\" in error\n  );\n};\n\nexport const normalizeValue = (\n  value: PayoutAPITransaction[\"value\"],\n): bigint => {\n  // ERC20 tokens don't have a bignumber returned\n  if (typeof value === \"number\") {\n    if (!Number.isSafeInteger(value)) {\n      throw new Error(\n        \"Unsafe numeric value for tx.value; expected string/hex BigInt.\",\n      );\n    }\n    return BigInt(value);\n  }\n\n  if (typeof value === \"string\") {\n    return BigInt(value);\n  }\n\n  if (typeof value === \"object\" && value !== null && \"hex\" in value) {\n    return BigInt(value.hex);\n  }\n\n  console.warn(\"Unknown value format, defaulting to 0:\", value);\n  throw new Error(\"Unknown value format\");\n};\n\nexport const executeTransactions = async (\n  transactions: PayoutAPITransaction[],\n  sendTransaction: SendTransactionFunction,\n  waitForTransaction: WaitForTransactionFunction,\n): Promise<TransactionReceipt[]> => {\n  const receipts: TransactionReceipt[] = [];\n\n  try {\n    for (const tx of transactions) {\n      const hash = await sendTransaction({\n        to: tx.to as `0x${string}`,\n        data: tx.data as `0x${string}`,\n        value: normalizeValue(tx.value),\n      });\n\n      const receipt = await waitForTransaction(hash);\n      if (receipt.status !== \"success\") {\n        throw new Error(`Transaction reverted: ${hash}`);\n      }\n\n      receipts.push(receipt);\n    }\n\n    return receipts;\n  } catch (error) {\n    console.error(\"Transaction execution failed:\", error);\n    throw { type: \"transaction\", error: error as Error } as PaymentError;\n  }\n};\n\nexport const createPayout = async (\n  rnApiClientId: string,\n  params: PaymentParams,\n): Promise<Response> => {\n  const {\n    amountInUsd,\n    payerWallet,\n    recipientWallet,\n    paymentCurrency,\n    feeInfo,\n    reference,\n  } = params;\n\n  const response = await fetch(`${RN_API_URL}/v2/payouts`, {\n    method: \"POST\",\n    headers: {\n      \"x-client-id\": rnApiClientId,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      amount: amountInUsd,\n      payerWallet: payerWallet,\n      payee: recipientWallet,\n      invoiceCurrency: \"USD\",\n      paymentCurrency: paymentCurrency,\n      feePercentage: feeInfo?.feePercentage || undefined,\n      feeAddress: feeInfo?.feeAddress || undefined,\n      customerInfo: params.customerInfo,\n      reference,\n    }),\n  });\n\n  return response;\n};\n\nexport interface PaymentResponse {\n  requestId: string;\n  transactionReceipts: TransactionReceipt[];\n}\n\nexport const executePayment = async ({\n  paymentParams,\n  rnApiClientId,\n  sendTransaction,\n  waitForTransaction,\n}: {\n  rnApiClientId: string;\n  paymentParams: PaymentParams;\n  sendTransaction: SendTransactionFunction;\n  waitForTransaction: WaitForTransactionFunction;\n}): Promise<PaymentResponse> => {\n  try {\n    const response = await createPayout(rnApiClientId, paymentParams);\n\n    if (!response.ok) {\n      let errorMessage = \"Failed to create payment\";\n\n      try {\n        const errorData = await response.json();\n        errorMessage = errorData.error || errorData.message || errorMessage;\n      } catch {\n        // If we can't parse the error response, just use status text\n        errorMessage = `HTTP ${response.status}: ${response.statusText}`;\n      }\n\n      const error = new Error(errorMessage);\n      throw { type: \"api\", error } as PaymentError;\n    }\n\n    const data: PayoutAPIResponse = await response.json();\n\n    if (Array.isArray(data?.transactions) && data.transactions.length > 0) {\n      const transactionReceipts = await executeTransactions(\n        data.transactions,\n        sendTransaction,\n        waitForTransaction,\n      );\n\n      return { requestId: data.requestId, transactionReceipts };\n    } else {\n      const error = new Error(\"No transaction data received from backend\");\n      throw { type: \"api\", error } as PaymentError;\n    }\n  } catch (error) {\n    console.error(\"Error in payment flow:\", error);\n    if (isPaymentError(error)) {\n      throw error;\n    } else {\n      throw { type: \"unknown\", error: error as Error } as PaymentError;\n    }\n  }\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/utils/payment.ts"
    },
    {
      "path": "registry/default/payment-widget/utils/currencies.ts",
      "content": "import { RN_API_URL } from \"../constants\";\n\nexport type ConversionCurrency = {\n  id: string;\n  symbol: string;\n  decimals: number;\n  address: string;\n  name: string;\n  type: \"ERC20\" | \"ETH\" | \"ISO4217\";\n  network: string;\n};\n\nexport interface GetConversionCurrenciesResponse {\n  currencyId: string;\n  network: string;\n  conversionRoutes: ConversionCurrency[];\n}\n\nconst DEFAULT_CURRENCY = \"USD\";\n\n// TODO: optimize to use the new ?networks search param\nexport const getConversionCurrencies = async (\n  rnApiClientId: string,\n): Promise<ConversionCurrency[]> => {\n  const response = await fetch(\n    `${RN_API_URL}/v2/currencies/${DEFAULT_CURRENCY}/conversion-routes`,\n    {\n      headers: {\n        \"x-client-id\": rnApiClientId,\n        \"Content-Type\": \"application/json\",\n      },\n    },\n  );\n\n  if (!response.ok) {\n    throw new Error(\"Network response was not ok\");\n  }\n\n  const data: GetConversionCurrenciesResponse = await response.json();\n\n  return data.conversionRoutes;\n};\n\nexport const getSymbolOverride = (symbol: string) => {\n  switch (symbol.toLowerCase()) {\n    case \"eth-sepolia\":\n      return \"ETH\";\n    default:\n      return symbol;\n  }\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/utils/currencies.ts"
    },
    {
      "path": "registry/default/payment-widget/utils/receipt.ts",
      "content": "import type { BuyerInfo, CompanyInfo, ReceiptItem } from \"../types\";\n\nexport interface PaymentInfo {\n  chain: string;\n  amount: string;\n  currency: string;\n  exchangeRate: string;\n  transactionHash?: string;\n}\n\nexport interface ReceiptMetadata {\n  receiptNumber: string;\n  issueDate: Date;\n  notes?: string;\n}\n\ninterface ReceiptBuyerInfo extends BuyerInfo {\n  walletAddress: string;\n}\n\ninterface ReceiptCompanyInfo extends CompanyInfo {\n  walletAddress: string;\n}\n\nexport interface ReceiptData {\n  company: ReceiptCompanyInfo;\n  buyer: ReceiptBuyerInfo;\n  payment: PaymentInfo;\n  items: ReceiptItem[];\n  metadata: ReceiptMetadata;\n  totals: {\n    totalDiscount: string;\n    totalTax: string;\n    total: string;\n    totalUSD: string;\n  };\n}\n\nexport const generateReceiptNumber = (prefix: string = \"REC\"): string => {\n  const timestamp = Date.now();\n  const random = Math.floor(Math.random() * 1000)\n    .toString()\n    .padStart(3, \"0\");\n  return `${prefix}-${timestamp}-${random}`;\n};\n\nexport const formatUSDAmount = (amount: string): string => {\n  const numericAmount = parseFloat(amount);\n\n  if (Number.isNaN(numericAmount)) {\n    return \"$0.00\";\n  }\n\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(numericAmount);\n};\n\nexport const formatCryptoAmount = (\n  amount: string,\n  currency: string,\n): string => {\n  return `${amount} ${currency}`;\n};\n\nexport const formatReceiptDate = (date: Date): string => {\n  return date.toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n  });\n};\n\nexport interface CreateReceiptParams {\n  company: ReceiptCompanyInfo;\n  buyer: ReceiptBuyerInfo;\n  payment: PaymentInfo;\n  items: ReceiptItem[];\n  totals: {\n    totalDiscount: string;\n    totalTax: string;\n    total: string;\n    totalUSD: string;\n  };\n  metadata: Omit<ReceiptMetadata, \"issueDate\">;\n}\n\nexport const createReceipt = (params: CreateReceiptParams): ReceiptData => {\n  const metadata: ReceiptMetadata = {\n    ...params.metadata,\n    issueDate: new Date(),\n  };\n\n  const receipt: ReceiptData = {\n    metadata,\n    company: params.company,\n    buyer: params.buyer,\n    payment: params.payment,\n    items: params.items,\n    totals: params.totals,\n  };\n\n  return receipt;\n};\n\nexport const ReceiptUtils = {\n  createReceipt,\n  generateReceiptNumber,\n  formatUSDAmount,\n  formatCryptoAmount,\n  formatReceiptDate,\n} as const;\n",
      "type": "registry:lib",
      "target": "components/payment-widget/utils/receipt.ts"
    },
    {
      "path": "registry/default/payment-widget/utils/chains.ts",
      "content": "import {\n  mainnet,\n  arbitrum,\n  base,\n  optimism,\n  polygon,\n  sepolia,\n} from \"viem/chains\";\n\nexport const getChainFromNetwork = (network: string) => {\n  switch (network.toLowerCase()) {\n    case \"mainnet\":\n      return mainnet;\n    case \"arbitrum\":\n      return arbitrum;\n    case \"base\":\n      return base;\n    case \"optimism\":\n      return optimism;\n    // our currencies API uses matic for polygon for the moment\n    case \"polygon\":\n    case \"matic\":\n      return polygon;\n    case \"sepolia\":\n      return sepolia;\n    default:\n      throw new Error(`Unsupported network: ${network}`);\n  }\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/utils/chains.ts"
    },
    {
      "path": "registry/default/payment-widget/hooks/use-payment.ts",
      "content": "import { useState } from \"react\";\nimport {\n  useAccount,\n  useSendTransaction,\n  useConfig,\n  useSwitchChain,\n} from \"wagmi\";\nimport { waitForTransactionReceipt } from \"wagmi/actions\";\nimport { createPublicClient, http } from \"viem\";\nimport {\n  executePayment,\n  type PaymentParams,\n  type TxParams,\n  type PaymentResponse,\n  type SendTransactionFunction,\n  type WaitForTransactionFunction,\n} from \"../utils/payment\";\nimport type { PaymentError } from \"../types/index\";\nimport type { Account, WalletClient, TransactionReceipt } from \"viem\";\nimport { getChainFromNetwork } from \"../utils/chains\";\n\nexport const usePayment = (network: string, walletAccount?: WalletClient) => {\n  const [isExecuting, setIsExecuting] = useState(false);\n  const { isConnected: isWagmiConnected, address: wagmiAddress } = useAccount();\n  const { sendTransactionAsync } = useSendTransaction();\n  const { switchChainAsync } = useSwitchChain();\n  const config = useConfig();\n\n  const requiredChain = getChainFromNetwork(network);\n  const isConnected = walletAccount\n    ? Boolean(walletAccount.account)\n    : isWagmiConnected;\n\n  const address = walletAccount ? walletAccount.account?.address : wagmiAddress;\n  const isUsingCustomWallet = walletAccount?.account !== undefined;\n\n  const wrappedSendTransaction: SendTransactionFunction = isUsingCustomWallet\n    ? async (transaction: TxParams): Promise<`0x${string}`> => {\n        const hash = await walletAccount.sendTransaction({\n          account: walletAccount.account as Account,\n          chain: requiredChain,\n          to: transaction.to,\n          data: transaction.data,\n          value: transaction.value,\n        });\n\n        return hash;\n      }\n    : async (tx: TxParams): Promise<`0x${string}`> => {\n        const hash = await sendTransactionAsync(tx);\n        return hash;\n      };\n\n  const wrappedWaitForTransaction: WaitForTransactionFunction =\n    isUsingCustomWallet\n      ? async (hash: `0x${string}`): Promise<TransactionReceipt> => {\n          const publicClient = createPublicClient({\n            chain: requiredChain,\n            transport: http(),\n          });\n\n          const receipt = await publicClient.waitForTransactionReceipt({\n            hash,\n          });\n\n          return receipt;\n        }\n      : async (hash: `0x${string}`): Promise<TransactionReceipt> => {\n          const receipt = await waitForTransactionReceipt(config, {\n            hash,\n          });\n          return receipt;\n        };\n\n  const execute = async (\n    rnApiClientId: string,\n    params: PaymentParams,\n  ): Promise<PaymentResponse> => {\n    if (!isConnected || !address) {\n      throw {\n        type: \"wallet\",\n        error: new Error(\"Wallet not connected\"),\n      } as PaymentError;\n    }\n\n    setIsExecuting(true);\n    try {\n      if (isUsingCustomWallet) {\n        await walletAccount.switchChain({ id: requiredChain.id });\n      } else {\n        await switchChainAsync({ chainId: requiredChain.id });\n      }\n\n      return await executePayment({\n        rnApiClientId,\n        paymentParams: {\n          amountInUsd: params.amountInUsd,\n          payerWallet: address,\n          recipientWallet: params.recipientWallet,\n          paymentCurrency: params.paymentCurrency,\n          feeInfo: params.feeInfo,\n          customerInfo: params.customerInfo,\n          reference: params.reference,\n        },\n        sendTransaction: wrappedSendTransaction,\n        waitForTransaction: wrappedWaitForTransaction,\n      });\n    } finally {\n      setIsExecuting(false);\n    }\n  };\n\n  return {\n    isExecuting,\n    executePayment: execute,\n  };\n};\n",
      "type": "registry:lib",
      "target": "components/payment-widget/hooks/use-payment.ts"
    },
    {
      "path": "registry/default/payment-widget/types/index.ts",
      "content": "export interface FeeInfo {\n  feePercentage: string;\n  feeAddress: string;\n}\n\n// TODO check out if we want to rework all numbers to strings\n\nexport interface PaymentError {\n  type: \"wallet\" | \"transaction\" | \"api\" | \"unknown\";\n  error: Error;\n}\n\nexport interface Transaction {\n  to: string;\n  data: string;\n  value: { hex: string };\n}\n\nexport interface ReceiptItem {\n  id: string;\n  description: string;\n  quantity: number;\n  unitPrice: string;\n  discount?: string;\n  tax?: string;\n  total: string;\n  currency?: string;\n}\n\nexport interface CompanyInfo {\n  name: string;\n  address?: {\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n    country: string;\n  };\n  taxId?: string;\n  email?: string;\n  phone?: string;\n  website?: string;\n}\n\nexport interface BuyerInfo {\n  email: string;\n  firstName?: string;\n  lastName?: string;\n  businessName?: string;\n  phone?: string;\n  address?: {\n    street: string;\n    city: string;\n    state: string;\n    country: string;\n    postalCode: string;\n  };\n}\n\nexport interface ReceiptTotals {\n  totalDiscount: string;\n  totalTax: string;\n  total: string;\n  totalUSD: string;\n}\n\nexport interface ReceiptInfo {\n  buyerInfo?: BuyerInfo;\n  companyInfo: CompanyInfo;\n  items: ReceiptItem[];\n  totals: ReceiptTotals;\n  receiptNumber?: string;\n}\n",
      "type": "registry:lib",
      "target": "components/payment-widget/types/index.ts"
    },
    {
      "path": "registry/default/payment-widget/context/web3-context.tsx",
      "content": "\"use client\";\n\nimport { QueryClient, QueryClientProvider } from \"@tanstack/react-query\";\nimport { WagmiProvider } from \"wagmi\";\nimport { getWagmiConfig } from \"../utils/wagmi\";\nimport { type ReactNode, useMemo, useRef } from \"react\";\n\nconst queryClient = new QueryClient();\n\nexport function Web3Provider({\n  children,\n  walletConnectProjectId,\n}: {\n  children: ReactNode;\n  walletConnectProjectId?: string;\n}) {\n  // @NOTE this may seem weird, but walletConnect doesn't handle strict mode initializing it twice, so we explicitly use a ref to store the config\n  const configRef = useRef<ReturnType<typeof getWagmiConfig> | null>(null);\n\n  const wagmiConfig = useMemo(() => {\n    if (!configRef.current) {\n      configRef.current = getWagmiConfig(walletConnectProjectId);\n    }\n    return configRef.current;\n  }, [walletConnectProjectId]);\n\n  return (\n    <WagmiProvider config={wagmiConfig}>\n      <QueryClientProvider client={queryClient}>{children}</QueryClientProvider>\n    </WagmiProvider>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/context/web3-context.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/receipt/receipt-template.tsx",
      "content": "import type { FC } from \"react\";\nimport {\n  formatCryptoAmount,\n  formatUSDAmount,\n  formatReceiptDate,\n  type ReceiptData,\n} from \"../../utils/receipt\";\n// a module.css file doesn't work with html2pdf.js\nimport \"./styles.css\";\n\nexport const ReceiptPDFTemplate: FC<{ receipt: ReceiptData }> = ({\n  receipt,\n}) => {\n  return (\n    <div className=\"receipt-container\">\n      <div className=\"receipt-header\">\n        <div className=\"company-info\">\n          <h1 className=\"company-name\">{receipt.company.name}</h1>\n          <div className=\"company-details\">\n            {receipt.company.address && (\n              <>\n                <div>{receipt.company.address.street}</div>\n                <div>\n                  {receipt.company.address.city},{\" \"}\n                  {receipt.company.address.state}{\" \"}\n                  {receipt.company.address.postalCode}{\" \"}\n                  {receipt.company.address.country}\n                </div>\n              </>\n            )}\n            {receipt.company.email && <div>{receipt.company.email}</div>}\n            {receipt.company.taxId && (\n              <div>Tax ID: {receipt.company.taxId}</div>\n            )}\n          </div>\n        </div>\n\n        <div className=\"receipt-title-section\">\n          <h2 className=\"receipt-title\">REC</h2>\n          <div className=\"receipt-number\">\n            #{receipt.metadata.receiptNumber}\n          </div>\n          <div className=\"receipt-date\">\n            {formatReceiptDate(receipt.metadata.issueDate)}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"party-info-section\">\n        <div className=\"info-box\">\n          <h3 className=\"info-header\">FROM</h3>\n          <div className=\"party-name\">{receipt.company.name}</div>\n          <div className=\"wallet-address\">{receipt.company.walletAddress}</div>\n          <div className=\"address-info\">\n            {receipt.company.address && (\n              <>\n                <div>{receipt.company.address.street}</div>\n                <div>\n                  {receipt.company.address.city},{\" \"}\n                  {receipt.company.address.state}{\" \"}\n                  {receipt.company.address.postalCode}{\" \"}\n                  {receipt.company.address.country}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"info-box\">\n          <h3 className=\"info-header\">TO</h3>\n          <div className=\"party-name\">\n            {[receipt.buyer.firstName, receipt.buyer.lastName]\n              .filter(Boolean)\n              .join(\" \") || \"Customer\"}\n          </div>\n          <div className=\"wallet-address\">{receipt.buyer.walletAddress}</div>\n          {receipt.buyer.email && (\n            <div className=\"email\">{receipt.buyer.email}</div>\n          )}\n          {receipt.buyer.address && (\n            <div className=\"address-info\">\n              <div>{receipt.buyer.address.street}</div>\n              <div>\n                {receipt.buyer.address.city}, {receipt.buyer.address.state}{\" \"}\n                {receipt.buyer.address.postalCode}{\" \"}\n                {receipt.buyer.address.country}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"payment-info\">\n        <div>\n          <strong>Payment Method:</strong>{\" \"}\n          <span>{`${receipt.payment.currency} on ${receipt.payment.chain}`}</span>\n        </div>\n        {receipt.payment.transactionHash && (\n          <div className=\"transaction-hash\">\n            <strong>Transaction:</strong> {receipt.payment.transactionHash}\n          </div>\n        )}\n      </div>\n\n      <table className=\"items-table\">\n        <thead>\n          <tr>\n            <th>Description</th>\n            <th className=\"center\">Qty</th>\n            <th className=\"right\">Unit Price</th>\n            <th className=\"center\">Disc%</th>\n            <th className=\"center\">Tax%</th>\n            <th className=\"right\">Total</th>\n          </tr>\n        </thead>\n        <tbody>\n          {receipt.items.map((item, index) => (\n            <tr\n              key={item.id}\n              className={index % 2 === 0 ? \"row-even\" : \"row-odd\"}\n            >\n              <td>{item.description}</td>\n              <td className=\"center\">{item.quantity}</td>\n              <td className=\"right\">\n                {formatCryptoAmount(\n                  item.unitPrice.toString(),\n                  item.currency || receipt.payment.currency,\n                )}\n              </td>\n              <td className=\"center\">{item.discount || 0}%</td>\n              <td className=\"center\">{item.tax || 0}%</td>\n              <td className=\"right amount\">\n                {formatCryptoAmount(\n                  item.total.toString(),\n                  item.currency || receipt.payment.currency,\n                )}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      <div className=\"totals-section\">\n        <div className=\"totals-box\">\n          {receipt.totals.totalDiscount.length > 0 && (\n            <div className=\"total-line\">\n              <span>Discount:</span>\n              <span className=\"total-amount\">\n                -\n                {formatCryptoAmount(\n                  receipt.totals.totalDiscount.toString(),\n                  receipt.payment.currency,\n                )}\n              </span>\n            </div>\n          )}\n\n          {receipt.totals.totalTax.length > 0 && (\n            <div className=\"total-line\">\n              <span>Tax:</span>\n              <span className=\"total-amount\">\n                {formatCryptoAmount(\n                  receipt.totals.totalTax.toString(),\n                  receipt.payment.currency,\n                )}\n              </span>\n            </div>\n          )}\n\n          <div className=\"total-line subtotal\">\n            <span>Subtotal:</span>\n            <span className=\"total-amount\">\n              {formatCryptoAmount(\n                receipt.payment.amount,\n                receipt.payment.currency,\n              )}\n            </span>\n          </div>\n\n          <div className=\"total-line final\">\n            <span>TOTAL (USD):</span>\n            <span className=\"total-amount\">\n              {formatUSDAmount(receipt.totals.totalUSD)}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {receipt.metadata.notes && (\n        <div className=\"notes-section\">\n          <strong>Notes:</strong> {receipt.metadata.notes}\n        </div>\n      )}\n    </div>\n  );\n};\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/receipt/receipt-template.tsx"
    },
    {
      "path": "registry/default/payment-widget/components/receipt/styles.css",
      "content": ".receipt-container {\n  background-color: #ffffff;\n  padding: 32px;\n  max-width: 800px;\n  margin: 0 auto;\n  font-family:\n    -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif;\n  font-size: 12px;\n  line-height: 1.4;\n  color: #2d3748;\n\n  .receipt-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 20px;\n    padding-bottom: 15px;\n    border-bottom: 2px solid #e2e8f0;\n  }\n\n  .company-info {\n    flex: 1;\n  }\n\n  .company-name {\n    font-size: 24px;\n    font-weight: 700;\n    color: #1a202c;\n    margin: 0 0 8px 0;\n  }\n\n  .company-details {\n    font-size: 11px;\n    color: #4a5568;\n    line-height: 1.3;\n  }\n\n  .company-details > div {\n    margin-bottom: 2px;\n  }\n\n  .receipt-title-section {\n    text-align: right;\n  }\n\n  .receipt-title {\n    font-size: 28px;\n    font-weight: 700;\n    color: #2d3748;\n    margin: 0 0 4px 0;\n  }\n\n  .receipt-number {\n    font-size: 16px;\n    font-weight: 600;\n    color: #4a5568;\n    margin-bottom: 4px;\n  }\n\n  .receipt-date {\n    font-size: 11px;\n    color: #718096;\n  }\n\n  .party-info-section {\n    display: flex;\n    gap: 20px;\n    margin-bottom: 16px;\n  }\n\n  .info-box {\n    flex: 1;\n    border: 1px solid #e2e8f0;\n    border-radius: 6px;\n    padding: 12px;\n    background-color: #f7fafc;\n  }\n\n  .info-header {\n    font-size: 11px;\n    font-weight: 700;\n    color: #2d3748;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    margin: 0 0 8px 0;\n  }\n\n  .party-name {\n    font-weight: 600;\n    font-size: 14px;\n    color: #1a202c;\n    margin-bottom: 4px;\n  }\n\n  .wallet-address {\n    font-size: 10px;\n    color: #718096;\n    font-family: \"Monaco\", \"Courier New\", monospace;\n    margin-bottom: 6px;\n    word-break: break-all;\n  }\n\n  .email {\n    font-size: 11px;\n    color: #4a5568;\n    margin-bottom: 4px;\n  }\n\n  .address-info {\n    font-size: 11px;\n    color: #4a5568;\n    line-height: 1.3;\n  }\n\n  .address-info > div {\n    margin-bottom: 2px;\n  }\n\n  .payment-info {\n    background-color: #edf2f7;\n    padding: 8px 12px;\n    border-radius: 4px;\n    margin-bottom: 16px;\n    font-size: 11px;\n    color: #2d3748;\n  }\n\n  .payment-info > div {\n    margin-bottom: 2px;\n  }\n\n  .payment-info > div:last-child {\n    margin-bottom: 0;\n  }\n\n  .transaction-hash {\n    font-family: \"Monaco\", \"Courier New\", monospace;\n    word-break: break-all;\n  }\n\n  .items-table {\n    width: 100%;\n    border-collapse: collapse;\n    border: 1px solid #e2e8f0;\n    margin-bottom: 16px;\n    font-size: 11px;\n  }\n\n  .items-table th {\n    background-color: #edf2f7;\n    border: 1px solid #e2e8f0;\n    padding: 8px 6px;\n    font-weight: 600;\n    text-align: left;\n    color: #2d3748;\n  }\n\n  .items-table th.center {\n    text-align: center;\n    width: 40px;\n  }\n\n  .items-table th.right {\n    text-align: right;\n    width: 80px;\n  }\n\n  .items-table td {\n    border: 1px solid #e2e8f0;\n    padding: 6px;\n    vertical-align: top;\n  }\n\n  .items-table td.center {\n    text-align: center;\n  }\n\n  .items-table td.right {\n    text-align: right;\n    font-family: \"Monaco\", \"Courier New\", monospace;\n  }\n\n  .items-table .row-even {\n    background-color: #ffffff;\n  }\n\n  .items-table .row-odd {\n    background-color: #f7fafc;\n  }\n\n  .items-table .amount {\n    font-weight: 600;\n  }\n\n  .totals-section {\n    display: flex;\n    justify-content: flex-end;\n    margin-bottom: 16px;\n  }\n\n  .totals-box {\n    background-color: #f7fafc;\n    border: 1px solid #e2e8f0;\n    border-radius: 6px;\n    padding: 12px;\n    min-width: 240px;\n  }\n\n  .total-line {\n    display: flex;\n    justify-content: space-between;\n    margin-bottom: 4px;\n    font-size: 11px;\n  }\n\n  .total-line.subtotal {\n    padding-top: 6px;\n    border-top: 1px solid #e2e8f0;\n    font-weight: 600;\n  }\n\n  .total-line.final {\n    font-size: 14px;\n    font-weight: 700;\n    color: #1a202c;\n    padding-top: 6px;\n    border-top: 2px solid #2d3748;\n  }\n\n  .total-amount {\n    font-family: \"Monaco\", \"Courier New\", monospace;\n    font-size: inherit;\n  }\n\n  .notes-section {\n    border-top: 1px solid #e2e8f0;\n    font-size: 11px;\n    color: #4a5568;\n    background-color: #f7fafc;\n    padding: 8px 12px;\n    border-radius: 4px;\n  }\n}\n",
      "type": "registry:component",
      "target": "components/payment-widget/components/receipt/styles.css"
    },
    {
      "path": "lib/utils.ts",
      "content": "import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n",
      "type": "registry:lib",
      "target": "lib/utils.ts"
    },
    {
      "path": "registry/default/payment-widget/README.md",
      "content": "# Payment Widget\n\nA React component for accepting cryptocurrency payments using the Request Network protocol. This widget provides a complete payment flow with wallet connection, currency selection, buyer information collection, and payment processing.\n\n## Overview\n\nThe Payment Widget is a comprehensive solution for integrating cryptocurrency payments into React applications. It handles the entire payment process from wallet connection to payment confirmation, with support for multiple currencies and networks through the Request Network.\n\n## Features\n\n- **Multi-wallet support** - Compatible with MetaMask, WalletConnect, Coinbase Wallet, and Safe\n- **Currency flexibility** - Supports multiple cryptocurrencies with automatic conversion rates\n- **Receipt generation** - Built-in PDF receipt generation and download\n- **Network support** - Works across Ethereum mainnet, Arbitrum, Base, Optimism, Polygon, and Sepolia\n- **Customizable UI** - Configurable display options and Tailwind CSS theming\n- **TypeScript support** - Fully typed for enhanced developer experience\n- **Works with your Viem accounts** - if your users are already logged in, you can use their logged in Viem account.\n\n## Installation\n\nInstall the required dependencies:\n\n```bash\nnpm install wagmi viem @tanstack/react-query react-hook-form lucide-react html2pdf.js\n```\n\nAdd the Payment Widget to your project using shadcn/ui:\n\n```bash\nnpx shadcn add payment-widget\n```\n\n## Basic Usage\n\n```tsx\nimport { PaymentWidget } from \"@/components/payment-widget/payment-widget\";\n\nfunction App() {\n  return (\n    <PaymentWidget\n      amountInUsd=\"100.00\"\n      recipientWallet=\"0x742d35Cc6639C0532c29e54F3D4B48E4d7d5f1E0\"\n      paymentConfig={{\n        walletConnectProjectId: \"your-project-id\",\n        network: \"mainnet\",\n        rnApiClientId: \"your-rn-api-client-id\",\n      }}\n      receiptInfo={{\n        companyInfo: {\n          name: \"Your Company\",\n          address: {\n            street: \"123 Main St\",\n            city: \"New York\",\n            state: \"NY\",\n            postalCode: \"10001\",\n          },\n          email: \"contact@yourcompany.com\",\n          taxId: \"123-45-6789\",\n          walletAddress: \"0x742d35Cc6639C0532c29e54F3D4B48E4d7d5f1E0\",\n        },\n        items: [\n          {\n            id: \"1\",\n            description: \"Product or Service\",\n            quantity: 1,\n            unitPrice: \"100.00\",\n            total: \"100.00\",\n          },\n        ],\n        totals: {\n          total: 100,\n          totalUSD: 100.00,\n          totalDiscount: 0.00,\n          totalTax: 0.00,\n        },\n      }}\n      onPaymentSuccess={(requestId, transactionReceipts) => console.log(\"Payment successful:\", requestId, transactionReceipts)}\n      onPaymentError={(error) => console.error(\"Payment failed:\", error)}\n    />\n  );\n}\n```\n\n## Props Reference\n\n### Core Props\n\n#### `amountInUsd` (required)\n- **Type**: `string`\n- **Description**: The payment amount in USD. This is the base amount that will be converted to the selected cryptocurrency at current exchange rates.\n- **Example**: `\"100.00\"`\n\n#### `recipientWallet` (required)\n- **Type**: `string`\n- **Description**: The Ethereum wallet address that will receive the payment. Must be a valid Ethereum address.\n- **Example**: `\"0x742d35Cc6639C0532c29e54F3D4B48E4d7d5f1E0\"`\n\n#### `paymentConfig` (required)\n- **Type**: `PaymentConfig`\n- **Description**: Configuration object containing payment-related settings.\n\n##### PaymentConfig Properties\n\n###### `walletConnectProjectId` (optional)\n- **Type**: `string`\n- **Description**: WalletConnect v2 project ID for wallet connection. Obtain from [WalletConnect Cloud](https://cloud.walletconnect.com/).\n\n###### `network` (required)\n- **Type**: `\"arbitrum\" | \"base\" | \"mainnet\" | \"optimism\" | \"polygon\" | \"sepolia\"`\n- **Description**: The blockchain network to process payments on.\n\n###### `rnApiClientId` (required)\n- **Type**: `string`\n- **Description**: Request Network API client ID for accessing conversion rates and processing payments. Obtain from Request Network.\n\n###### `feeInfo` (optional)\n- **Type**: `FeeInfo`\n- **Description**: Fee configuration for the payment. Defines any additional fees to be applied.\n\n###### `supportedCurrencies` (optional)\n- **Type**: `string[]`\n- **Description**: Array of cryptocurrency IDs to limit currency selection. If not provided, all available currencies for the network will be shown.\n- **Example**: `[\"ethereum-mainnet\", \"usdc-ethereum\"]`\n\n#### `receiptInfo` (required)\n- **Type**: `ReceiptInfo`\n- **Description**: Comprehensive receipt information for PDF generation and payment records.\n\n##### ReceiptInfo Properties\n\n###### `companyInfo` (required)\n- **Type**: `CompanyInfo`\n- **Description**: Your company's information for the receipt.\n\n**CompanyInfo Structure:**\n```typescript\n{\n  name: string;                    // Company name\n  address: {\n    street: string;\n    city: string;\n    state: string;\n    postalCode: string;\n  };\n  email?: string;                  // Company email\n  taxId: string;                   // Tax identification number\n  walletAddress: string;           // Company wallet address\n}\n```\n\n###### `items` (required)\n- **Type**: `ReceiptItem[]`\n- **Description**: Array of line items for the receipt.\n\n**ReceiptItem Structure:**\n```typescript\n{\n  id: string;                      // Unique item identifier\n  description: string;             // Item description\n  quantity: number;                // Quantity of items\n  unitPrice: string;               // Price per unit in USD\n  total: string;                   // Total price for this line item\n  currency?: string;               // Currency override (defaults to USD)\n  discount?: number;               // Discount percentage (0-100)\n  tax?: number;                    // Tax percentage (0-100)\n}\n```\n\n###### `totals` (required)\n- **Type**: `ReceiptTotals`\n- **Description**: Summary totals for the receipt.\n\n**ReceiptTotals Structure:**\n```typescript\n{\n  total: string;                   // Total amount in base currency\n  totalUSD: string;                // Total amount in USD\n  totalDiscount: string;           // Total discount amount\n  totalTax: string;                // Total tax amount\n}\n```\n\n###### `buyerInfo` (optional)\n- **Type**: `BuyerInfo`\n- **Description**: Pre-filled buyer information. If provided, the buyer info form will be pre-populated.\n\n###### `receiptNumber` (optional)\n- **Type**: `string`\n- **Description**: Custom receipt number. If not provided, a default will be generated.\n\n### Configuration Props\n\n#### `uiConfig` (optional)\n- **Type**: `UiConfig`\n- **Description**: UI behavior configuration options.\n\n##### UiConfig Properties\n\n###### `showRequestScanUrl` (optional)\n- **Type**: `boolean`\n- **Default**: `true`\n- **Description**: Whether to show a link to view the payment on Request Scan after successful payment.\n\n###### `showReceiptDownload` (optional)\n- **Type**: `boolean`\n- **Default**: `true`\n- **Description**: Whether to show the receipt PDF download button after successful payment.\n\n#### `walletAccount` (optional)\n- **Type**: `WalletClient`\n- **Description**: Pre-connected wallet client (using Viem/Wagmi). If provided, the wallet connection step will be skipped. Useful when you already manage wallet connection in your application.\n\n### Event Handlers\n\n#### `onPaymentSuccess` (optional)\n- **Type**: `(requestId: string) => void | Promise<void>`\n- **Description**: Callback function called when payment is successfully completed. Receives the Request Network request ID.\n\n#### `onPaymentError` (optional)\n- **Type**: `(error: PaymentError) => void | Promise<void>`\n- **Description**: Callback function called when payment fails. Receives detailed error information.\n\n### Children\n\n#### `children` (optional)\n- **Type**: `ReactNode`\n- **Description**: Custom trigger element for the payment widget. If not provided, defaults to \"Pay with crypto\" button.\n- **Example**: \n```tsx\n<PaymentWidget {...props}>\n  <button className=\"custom-pay-button\">\n    Pay Now\n  </button>\n</PaymentWidget>\n```\n\n## PaymentWidget Props\n\n### onComplete\nOptional callback that fires when the user closes the payment widget from the success screen. Use this to handle post-payment cleanup or navigation.\n\n```tsx\n<PaymentWidget\n  // ... other props\n  onComplete={() => {\n    // Close modal, redirect user, etc.\n    console.log(\"Payment flow completed\");\n  }}\n/>\n```\n\n### PaymentConfig.reference\nOptional string to associate with the payment request for your own tracking purposes. This reference will be stored with the Request Network payment data.\n\n```tsx\n<PaymentWidget\n  paymentConfig={{\n    rnApiClientId: \"your-client-id\",\n    reference: \"invoice-12345\", // Your internal reference\n    supportedCurrencies: [\"ETH-sepolia-sepolia\"]\n  }}\n  // ... other props\n/>\n```\n\n## Styling and Theming\n\nThe Payment Widget uses Tailwind CSS and respects your application's design system through CSS custom properties. The following variables can be customized:\n\n```css\n:root {\n  --primary: #your-primary-color;\n  --primary-foreground: #your-primary-text-color;\n  --secondary: #your-secondary-color;\n  --secondary-foreground: #your-secondary-text-color;\n  --muted: #your-muted-color;\n  --muted-foreground: #your-muted-text-color;\n  --accent: #your-accent-color;\n  --accent-foreground: #your-accent-text-color;\n  --background: #your-background-color;\n  --foreground: #your-text-color;\n  --border: #your-border-color;\n  --radius: 0.5rem;\n}\n```\n\n## Using Your Existing Wallet Client\n\nIf your application already manages wallet connections using Viem/Wagmi, you can pass your existing wallet client to skip the built-in wallet connection flow. This is perfect for applications that have their own wallet connection UI or state management.\n\n### With Wagmi\n\n```tsx\nimport { useWalletClient } from \"wagmi\";\nimport { PaymentWidget } from \"@/components/payment-widget/payment-widget\";\n\nfunction PaymentWithExistingWallet() {\n  const { data: walletClient } = useWalletClient();\n\n  return (\n    <PaymentWidget\n      amountInUsd=\"100.00\"\n      recipientWallet=\"0x742d35Cc6639C0532c29e54F3D4B48E4d7d5f1E0\"\n      walletAccount={walletClient} // Pass your existing wallet client\n      paymentConfig={{\n        network: \"mainnet\",\n        rnApiClientId: \"your-rn-api-client-id\",\n      }}\n      receiptInfo={{\n        // ... your receipt info\n      }}\n      onPaymentSuccess={(requestId) => console.log(\"Payment successful:\", requestId)}\n      onPaymentError={(error) => console.error(\"Payment failed:\", error)}\n    >\n      Pay with My Connected Wallet\n    </PaymentWidget>\n  );\n}\n```\n\n### With Direct Viem Client\n\nYou can also pass any Viem wallet client directly. For more information on creating wallet clients, see the [Viem documentation](https://viem.sh/docs/clients/wallet).\n\n```tsx\nimport { createWalletClient, custom } from \"viem\";\nimport { mainnet } from \"viem/chains\";\n\n// Create wallet client directly with Viem\nconst walletClient = createWalletClient({\n  chain: mainnet,\n  transport: custom(window.ethereum),\n});\n\n// Use with Payment Widget\n<PaymentWidget\n  walletAccount={walletClient}\n  // ... other props\n/>\n```\n\n### Benefits of Using Existing Wallet Client\n\n- **Consistent UX** - Users don't see multiple wallet connection prompts\n- **Shared State** - Wallet connection state is managed in one place\n- **Better Performance** - Reuses existing connection instead of creating new ones\n- **Simplified Flow** - Skips wallet selection step in the payment widget\n\nWhen `walletAccount` is provided, the Payment Widget will:\n- Skip the wallet connection step entirely\n- Use the provided wallet for all transactions\n- Display payment options immediately\n- Maintain your application's wallet connection state\n\n## Error Handling\n\nThe widget includes comprehensive error handling for common scenarios:\n\n- **Network connectivity issues**\n- **Insufficient wallet balance**\n- **Transaction rejection**\n- **Invalid wallet addresses**\n- **API rate limiting**\n\nAll errors are passed to the `onPaymentError` callback with detailed error information for debugging and user feedback.\n\n## Browser Support\n\n- Chrome 90+\n- Firefox 88+\n- Safari 14+\n- Edge 90+\n\n## Dependencies\n\nThe Payment Widget requires these peer dependencies:\n\n- `react` \n- `wagmi` \n- `viem` \n- `@tanstack/react-query` \n- `react-hook-form` \n- `lucide-react`\n- `html2pdf.js`\n\n## Security Considerations\n\n- Always validate payment amounts on your backend\n- Verify wallet addresses before processing\n- Implement proper rate limiting for payment requests\n- Store sensitive configuration (API keys) securely\n- Use HTTPS in production environments\n\n## Support\n\nFor technical support and bug reports, please visit the [Request Network documentation](https://docs.request.network) or raise an issue in the repository.",
      "type": "registry:lib",
      "target": "components/payment-widget/README.md"
    }
  ]
}